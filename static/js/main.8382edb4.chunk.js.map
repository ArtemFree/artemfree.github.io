{"version":3,"sources":["ui/Spinner/index.tsx","helpers/textHelper.ts","api/apiRoute.ts","api/request.ts","store/product/photo.ts","hooks/usePhoto.ts","ui/Product/index.tsx","hooks/useIsIntersecting.ts","store/category/index.ts","store/product/products.ts","pages/Main/productList/index.tsx","features/Search/logic.ts","hooks/useClickOutside.ts","ui/Logo/index.tsx","features/Search/Suggestion/index.tsx","features/Search/index.tsx","features/Category/index.tsx","images/icons/LogoBlack.svg","images/icons/cartIcon.svg","store/cart/index.ts","images/icons/clear2.svg","ui/ClearButton/index.tsx","images/icons/add2.svg","images/icons/remove2.svg","ui/QuantityControl/index.tsx","features/SmallCart/components/CartSmallProduct.tsx","ui/Button/index.tsx","features/SmallCart/components/DropdownCart.tsx","features/SmallCart/index.tsx","sections/Header/desktop/index.tsx","sections/Header/mobile/index.tsx","store/general/index.ts","sections/Header/index.tsx","sections/Footer/index.tsx","pages/Main/index.tsx","utils/validators.ts","store/modal/index.ts","store/user/index.ts","store/cart/checkout.ts","ui/TextLink/index.tsx","pages/Cart/CartProductList/components/CartLargeProduct.tsx","ui/Input/index.tsx","modals/UserAgreementModal/index.tsx","modals/ExitConfirmationModal/index.tsx","store/user/authForm.ts","modals/AuthModal/logic.ts","modals/AuthModal/index.tsx","images/icons/done_primary_24dp.svg","api/address.ts","features/Address/Suggestion/index.tsx","helpers/JSXHelper.tsx","features/Address/index.tsx","pages/Cart/CartProductList/components/CheckoutForm.tsx","pages/Cart/CartProductList/index.tsx","pages/Cart/index.tsx","store/product/currentProduct.ts","modals/PhotoModal/index.tsx","pages/ProductPage/components/BigPhotoWrapper.tsx","pages/ProductPage/components/SmallPhoto.tsx","pages/ProductPage/components/PhotoViewer.tsx","ui/SizePicker/index.tsx","modals/SizesModal/logic.ts","images/icons/close_black_24.svg","modals/SizesModal/index.tsx","images/icons/done_success_24dp.svg","pages/ProductPage/components/ProductText.tsx","pages/ProductPage/components/Recomended.tsx","pages/ProductPage/components/ProductPageContent.tsx","store/routes/index.ts","pages/ProductPage/index.tsx","sections/Modal/index.tsx","App.tsx","utils/system.ts","index.tsx"],"names":["LoaderWrapper","styled","div","margin","justifyContent","Spinner","style","className","formatPrice","value","word","length","slice","arrayToQuery","key","arr","str","forEach","x","baseApiRoute","apiPath","apiPhotoPath","baseRequestFx","createEffect","a","url","method","headers","body","access_token","contentType","fetch","Authorization","JSON","stringify","result","status","json","changeAccessToken","createEvent","$access_token","createStore","on","st","watch","localStorage","setItem","request","attach","source","effect","mapParams","params","addPhoto","$photos","fetchPhotoFx","photo","onStartCallback","blob","img","URL","createObjectURL","sample","clock","done","fn","photoUrl","productId","originalPhotoUrl","target","usePhoto","photoSettings","photos","useStore","useState","finalPhoto","setFinalPhoto","isLoaded","isLoading","loadInfo","setLoadInfo","photoAlreadyExists","find","useEffect","needToChangePhotoByObserving","isIntersecting","then","ProductWrapper","ProductImage","p","Heading","h3","LabelBlock","Price","Dot","Material","linkStyles","flexShrink","width","display","overflow","Product","id","name","price","material","onClick","formattedPrice","useMemo","String","thisElement","useRef","element","is","setIs","observer","IntersectionObserver","entry","rootMargin","threshold","current","observe","disconnect","useIsIntersecting","ref","to","fetchCategories","$categories","doneData","fetchProductsFx","fetchProductsByCategoryIdFx","categoryId","$products","map","filter","k","$allProducts","$productsOfCategory","combine","category","products","Wrapper","Grid","SpinnerBlock","MainProductList","pendingCategory","pending","pendingAll","useParams","isCategory","test","useLocation","pathname","productsOfCategory","finalProducts","setFinalProducts","filteredProducts","Container","label","rest","window","scroll","clearSearch","changeSearch","$search","restore","reset","changeSuggestion","$suggestionOpen","_","open","Variants","useClickOutside","handler","listener","event","some","contains","document","addEventListener","removeEventListener","SuggestionWrapper","ul","Suggest","li","SuggestLink","Suggestion","myRef","createRef","href","Input","input","Search","suggestionOpen","onChange","e","autoCapitalize","autoComplete","autoCorrect","placeholder","CategoryListUl","Category","active","CategoryList","parseInt","tab","setTab","categories","index","onClickCapture","LogoImg","LogoLink","Logo","variant","title","src","MainLogoBlack","fetchSavedProductsToCart","ids","toggleCart","$cartVisible","changeById","increaseById","decreaseById","deleteById","addProductToCart","updateProductInCart","initProducts","$cartProducts","product","totalPrice","quantity","state","every","size","$totalPrice","$totalProducts","$totalWord","total","numbers","formatProductsCount","$otherProducts","cart","parse","getItem","newProducts","same","newCart","item","QuantityControl","button","DeleteControl","DeleteIcon","ClearButton","QuantityCounter","QuantityControl–°","PlusControl","AddIcon","MinusControl","disabled","RemoveIcon","onIncrease","onDecrease","Avatar","InfoBlock","NameBlock","Name","Controls","ClearWrapper","SmallPrice","CartSmallProduct","avatarPath","onDelete","formattedTotalPrice","role","position","transform","top","left","ButtonBase","fixed","ButtonPrimary","ButtonSecondary","Button","children","Head","ProductList","BottomBlock","Total","Empty","ToManyProductsblock","DropdownCart","smallCartButtonRef","cartRef","totalWord","totalProducts","otherProducts","cartVisible","loading","empty","toManyProducts","onLinkClickHandler","tagName","parentNode","Cart","CartIcon","Status","SmallCart","header","Flex","HeaderWrapper","LogoWrapper","DesktopHeader","marginRight","IconButton","Icon","SearchBlock","CartLabel","MobileHeader","cartProducts","general","isMobile","setMobile","this","Header","Footer","Date","getFullYear","Main","Required","validator","val","Boolean","errorText","Email","Agreement","isTruth","openModal","closeModal","$modal","modal","authLoginFx","email","password","authRegFx","getMe","error","removeItem","logout","$user","resetAuthError","$authError","guard","user","checkoutForm","createForm","fields","firstName","init","rules","lastName","address","phoneNumber","agreement","delivery","validateOn","forward","from","TextLink","span","TextLinkBold","fontSize","AvatarTitleBlock","Title","PriceSmall","Size","Info","PriceBlock","CartLargeProduct","formattedPriceTotal","InputBase","InputDefault","Label","ErrorLabel","onBlur","onFocus","type","internalRef","spellCheck","hasError","focus","ModalWrapper","FormWrapper","ButtonBlock","h2","Text","BoldText","List","ListItem","UserAgreementModal","stopPropagation","InputsBlock","MarginTop16","ButtonsBlock","ButtonWrapper","ExitConfirmationModal","authForm","authType","submit","$values","$isValid","isValid","setForm","authTypedContent","Map","text","buttonText","MarginTop12","Error","AuthModal","myType","setMyType","authError","isLoginLoading","isRegLoading","useForm","values","get","set","onEnterKey","firstError","fetchAddressFx","query","mode","Accept","count","$suggests","suggestions","EmptyStroke","suggests","addressInputRef","setActive","preventDefault","suggest","formatted","queryWords","trim","split","suggestWords","i","j","search","RegExp","push","join","markSearchedWords","dangerouslySetInnerHTML","__html","Address","suggestionVisible","delayedFetchAddress","useCallback","debounce","trailing","leading","marginTop","CommonGrid","Inputs","RadioGroup","HiddenRadio","RadioHead","RadioButton","DoneIcon","RadioWrapper","InputLabel","TitleBlock","LoginButton","Language","CheckoutForm","formWrapperRef","inputRefs","checkoutButtonClick","v","nativeEvent","inputType","substr","phoneFormat","tabIndex","h1","CartContent","TotalBlock","TotalHead","PropertyKey","PropertyValue","Property","PropertyBlock","CartProductList","mobileButtonBlockHidden","setMobileButtonBlockHidden","isDirty","inputRefsArray","onScroll","bodyTop","Math","abs","getBoundingClientRect","offsetTop","border","scrollIntoView","parentElement","changeSize","changeCurrentProduct","resetCurrentProduct","fetchProductByIdFx","$currentProduct","currentProductForm","form","Photo","SmallPhotosContainer","opacity","SmallPhoto","PhotoModal","currentPhoto","otherPhotos","myCurrentPhoto","setMyCurrentPhoto","myOtherPhotosOpacity","setMyOtherPhotosOpacity","firstTimeoutId","setTimeout","onMouseOver","clearTimeout","onMouseLeave","BigPhotoContainer","BigPhotoCaruselWrapper","BigPhotoCarusel","BigPhoto","onlyOne","PhotoScaledContainer","BigPhotoWrapper","scaledPhotoVisible","setScaledPhotoVisible","scaledPhotoElementRef","boundingPhotoRectRef","offsetX","offsetY","setScaledOffset","onScaleEnd","classList","remove","onScaleStart","add","onScale","targetTouches","clientX","y","clientY","offsetWidth","offsetHeight","Number","toFixed","onMouseEnter","onMouseMove","height","SmallPhotoElement","myPhoto","SmallPhotosColumn","PhotoViewer","selectedPhoto","setSelectedPhoto","SizeRow","SizeCell","selected","ErrorText","sizes","SizePicker","selectedSize","onSelect","russian","manufacturer","breast","waist","hips","SizeWrapper","Close","CloseIcon","Table","TableCol","TableRow","SizesModal","Block","PropertiesBlock","PropertiesRow","spaceBetween","PropertyControl","PropertyControlKey","PropertyControlActiveKey","DoneBlock","DoneImg","DoneText","ProductText","isInCart","thisProductInCart","RecomendedWrapper","RecomendedGrid","Line","Recomended","currentProductId","loadingOneProduct","currentProduct","GridWrapper","ProductPageContent","content","routes","path","exact","component","candidate","ModalBackground","Modal","closeByPressEsc","history","createBrowserHistory","navigator","userAgent","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8382edb4.chunk.js","sourcesContent":["import React, { FC } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport \"./index.css\";\r\n\r\nconst LoaderWrapper = styled.div<{ justifyContent?: string; margin?: string }>`\r\n  display: flex;\r\n  margin: ${({ margin }) => margin || \"initial\"};\r\n  align-items: start;\r\n  justify-content: ${({ justifyContent }) => justifyContent || \"center\"};\r\n`;\r\n\r\ninterface ISpinnerProps {\r\n  justifyContent?: string;\r\n  margin?: string;\r\n  style?: React.CSSProperties;\r\n}\r\n\r\nconst Spinner: FC<ISpinnerProps> = ({ justifyContent, margin, style }) => {\r\n  return (\r\n    <LoaderWrapper\r\n      margin={margin}\r\n      justifyContent={justifyContent}\r\n      className=\"spinContainer\"\r\n      style={style}\r\n    >\r\n      <div className=\"spin2 spin2_progress_yes spin2_size_m spin2_view_default spin2_tone_default\"></div>\r\n    </LoaderWrapper>\r\n  );\r\n};\r\n\r\nexport default Spinner;\r\n","export const formatPrice = (value: string) => {\r\n  let word = value;\r\n  if (word.length === 4) {\r\n    word = word.slice(0, 1) + \" \" + word.slice(1);\r\n  } else if (word.length === 5) {\r\n    word = word.slice(0, 2) + \" \" + word.slice(2);\r\n  } else if (word.length === 6) {\r\n    word = word.slice(0, 3) + \" \" + word.slice(3);\r\n  } else if (word.length === 7) {\r\n    word = word.slice(0, 1) + \" \" + word.slice(1, 4) + \" \" + word.slice(3, 6);\r\n  } else if (word.length === 8) {\r\n    word = word.slice(0, 2) + \" \" + word.slice(2, 5) + \" \" + word.slice(5, 8);\r\n  }\r\n\r\n  return word;\r\n};\r\n\r\nexport const formatProductsCount = (total: number) => {\r\n  const count = total;\r\n  const numbers = String(count);\r\n\r\n  if (numbers.length === 2 && numbers[0] === \"1\") {\r\n    return \"—Ç–æ–≤–∞—Ä–æ–≤\";\r\n  }\r\n\r\n  const lastNumber = numbers[numbers.length - 1];\r\n\r\n  switch (lastNumber) {\r\n    case \"1\":\r\n      return \"—Ç–æ–≤–∞—Ä\";\r\n    case \"2\":\r\n    case \"3\":\r\n    case \"4\":\r\n      return \"—Ç–æ–≤–∞—Ä–∞\";\r\n    case \"5\":\r\n    case \"6\":\r\n    case \"7\":\r\n    case \"8\":\r\n    case \"9\":\r\n      return \"—Ç–æ–≤–∞—Ä–æ–≤\";\r\n\r\n    default:\r\n      return \"—Ç–æ–≤–∞—Ä–æ–≤\";\r\n  }\r\n};\r\n\r\nexport const phoneFormat = (v: string, e: any) => {\r\n  if (\r\n    !/^(\\+)?(\\d)*\\s?(\\d)*\\s?(\\d)*\\s?(\\d)*\\s?(\\d)*$/gi.test(v) ||\r\n    v.length === 17 ||\r\n    v.length > 17\r\n  ) {\r\n    return;\r\n  }\r\n\r\n  if (v.length === 1 && v !== \"+\") v = \"+\" + v;\r\n  if (\r\n    (v.length === 3 || v.length === 7 || v.length === 11 || v.length === 14) &&\r\n    e.nativeEvent.inputType !== \"deleteContentBackward\"\r\n  ) {\r\n    v = v.substr(0, v.length - 1) + \" \" + v[v.length - 1];\r\n  }\r\n  if (\r\n    (v.length === 2 || v.length === 6 || v.length === 10 || v.length === 13) &&\r\n    e.nativeEvent.inputType !== \"deleteContentBackward\"\r\n  ) {\r\n    v = v + \" \";\r\n  }\r\n\r\n  return v;\r\n};\r\n\r\nexport const arrayToQuery = (key: string, arr: string[]) => {\r\n  if (!key || !arr.length) {\r\n    return;\r\n  }\r\n\r\n  let str: string = \"\";\r\n  arr.forEach((x) => {\r\n    str += `${key}=${x}&`;\r\n  });\r\n  return str;\r\n};\r\n","const subDomain = \"256e-89-22-176-165\";\r\nexport const baseApiRoute = `http://${subDomain}.ap.ngrok.io`;\r\n","import {\r\n  createEffect,\r\n  createEvent,\r\n  attach,\r\n  Store,\r\n  createStore,\r\n  Effect,\r\n} from \"effector\";\r\nimport { baseApiRoute } from \"./apiRoute\";\r\n\r\nexport const apiPath = `${baseApiRoute}/api/`;\r\nexport const apiPhotoPath = baseApiRoute + \"/\";\r\n\r\ninterface IBaseRequestParams {\r\n  url: string;\r\n  method: \"GET\" | \"POST\" | \"PUT\" | \"DELETE\";\r\n  headers?: HeadersInit;\r\n  body?: any;\r\n  access_token?: string;\r\n  contentType?: string;\r\n}\r\n\r\ntype ResultT<T> = {\r\n  status: number;\r\n  result?: T;\r\n  error?: string;\r\n};\r\nexport type AuthedRequestT<Res, Err = Error> = Effect<\r\n  Omit<Omit<IBaseRequestParams, \"access_token\">, \"contentType\">,\r\n  ResultT<Res>,\r\n  Err\r\n>;\r\n\r\nconst baseRequestFx = createEffect<IBaseRequestParams, any, Error>(\r\n  async ({\r\n    url,\r\n    method = \"GET\",\r\n    headers,\r\n    body,\r\n    access_token,\r\n    contentType = \"application/json\",\r\n  }) => {\r\n    const result = await fetch(`${apiPath}${url}`, {\r\n      method,\r\n      headers: {\r\n        Authorization: `Bearer ${access_token}`,\r\n        \"Content-Type\": contentType,\r\n        ...headers,\r\n      },\r\n      body: JSON.stringify(body),\r\n    });\r\n\r\n    return {\r\n      status: result.status,\r\n      ...(await result.json()),\r\n    };\r\n  }\r\n);\r\n\r\nexport const changeAccessToken = createEvent<string>();\r\nconst $access_token = createStore<string>(\"\").on(\r\n  changeAccessToken,\r\n  (st, x) => x\r\n);\r\n$access_token.watch((access_token) => {\r\n  if (access_token) {\r\n    localStorage.setItem(\"access_token\", access_token);\r\n  }\r\n});\r\n\r\nexport const request = attach<\r\n  Omit<Omit<IBaseRequestParams, \"access_token\">, \"contentType\">,\r\n  Store<string>,\r\n  typeof baseRequestFx\r\n>({\r\n  source: $access_token,\r\n  effect: baseRequestFx,\r\n  mapParams: (params, access_token) => ({ ...params, access_token }),\r\n});\r\n","import { createStore, createEvent, createEffect, sample } from \"effector\";\r\nimport { apiPhotoPath } from \"../../api/request\";\r\n\r\ninterface IPhoto {\r\n  productId: number;\r\n  photoUrl: string;\r\n  originalPhotoUrl: string;\r\n}\r\n\r\nexport const addPhoto = createEvent<IPhoto>();\r\nexport const $photos = createStore<IPhoto[]>([]).on(addPhoto, (st, x) => [\r\n  ...st,\r\n  x,\r\n]);\r\n\r\nexport const fetchPhotoFx = createEffect<\r\n  {\r\n    photo: string;\r\n    productId: number;\r\n    onStartCallback?: () => void;\r\n  },\r\n  string\r\n>(async ({ photo, onStartCallback }) => {\r\n  if (!photo) {\r\n    return \"\";\r\n  }\r\n\r\n  onStartCallback && onStartCallback();\r\n\r\n  const result = await fetch(apiPhotoPath + photo);\r\n  if (!result) return \"\";\r\n\r\n  const blob = await result.blob();\r\n  const img = URL.createObjectURL(blob);\r\n\r\n  return img;\r\n});\r\n\r\nsample({\r\n  clock: fetchPhotoFx.done,\r\n  fn: ({ result, params: { productId, photo } }) => ({\r\n    photoUrl: result,\r\n    productId,\r\n    originalPhotoUrl: photo,\r\n  }),\r\n  target: addPhoto,\r\n});\r\n","import { useStore } from \"effector-react\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { $photos, fetchPhotoFx } from \"../store/product/photo\";\r\n\r\n/**\r\n  Controls all photos. Works with cache, checks the cache to find \r\n  already exist photo. If he didn't find the photo, then fetch \r\n  this and put to the cache.\r\n**/\r\n\r\ninterface IPhotoSettings {\r\n  needToChangePhotoByObserving?: boolean;\r\n  isIntersecting?: boolean;\r\n}\r\n\r\ninterface ILoadInfo {\r\n  isLoading: boolean;\r\n  isLoaded: boolean;\r\n}\r\n\r\nexport const usePhoto = (\r\n  photo: string,\r\n  productId: number,\r\n  photoSettings?: IPhotoSettings\r\n) => {\r\n  const photos = useStore($photos);\r\n  const [finalPhoto, setFinalPhoto] = useState<string>(\"\");\r\n  const [loadInfo, setLoadInfo] = useState<ILoadInfo>({\r\n    isLoaded: false,\r\n    isLoading: false,\r\n  });\r\n  const photoAlreadyExists = photos.find((x) => x.originalPhotoUrl === photo);\r\n\r\n  useEffect(() => {\r\n    if (photoAlreadyExists) {\r\n      return;\r\n    }\r\n\r\n    if (finalPhoto) {\r\n      return;\r\n    }\r\n\r\n    if (loadInfo.isLoading || loadInfo.isLoaded) {\r\n      return;\r\n    }\r\n\r\n    let needToChangePhotoByObserving = true,\r\n      isIntersecting = true;\r\n\r\n    if (photoSettings) {\r\n      needToChangePhotoByObserving = photoSettings.needToChangePhotoByObserving;\r\n      isIntersecting = photoSettings.isIntersecting;\r\n    }\r\n\r\n    if (!needToChangePhotoByObserving || !isIntersecting) {\r\n      return;\r\n    }\r\n\r\n    fetchPhotoFx({\r\n      photo,\r\n      productId,\r\n      onStartCallback: () => {\r\n        setLoadInfo({ isLoading: true, isLoaded: false });\r\n      },\r\n    }).then((finalPhoto) => {\r\n      setLoadInfo({ isLoaded: true, isLoading: false });\r\n      setFinalPhoto(finalPhoto);\r\n    });\r\n  }, [\r\n    photoSettings,\r\n    productId,\r\n    photo,\r\n    loadInfo,\r\n    photoAlreadyExists,\r\n    finalPhoto,\r\n  ]);\r\n\r\n  if (photoAlreadyExists) {\r\n    return photoAlreadyExists.photoUrl;\r\n  }\r\n\r\n  if (finalPhoto) {\r\n    return finalPhoto;\r\n  }\r\n\r\n  return \"\";\r\n};\r\n","import { FC, useMemo, useRef } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { formatPrice } from \"../../helpers/textHelper\";\r\nimport Spinner from \"../Spinner\";\r\nimport { useIsIntersecting } from \"../../hooks/useIsIntersecting\";\r\nimport { usePhoto } from \"../../hooks/usePhoto\";\r\n\r\nconst ProductWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  text-decoration: none;\r\n  cursor: pointer;\r\n  overflow: hidden;\r\n  width: 100%;\r\n\r\n  &:hover > h3 {\r\n    color: var(--primary-color) !important;\r\n  }\r\n`;\r\nconst ProductImage = styled.div<{ photo?: string }>`\r\n  width: 100%;\r\n  height: 364px;\r\n  border: 1px solid rgba(0, 0, 0, 0.1);\r\n  box-sizing: border-box;\r\n  overflow: hidden;\r\n\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  background-position: center;\r\n  background-size: cover;\r\n  background-repeat: no-repeat;\r\n  background-image: url(${(p) => p.photo ?? \"\"});\r\n\r\n  &:hover {\r\n    border: 1px solid rgba(0, 0, 0, 0.3);\r\n  }\r\n`;\r\nconst Heading = styled.h3`\r\n  font-size: 15px;\r\n  text-decoration: none !important;\r\n  margin: 12px 0 5px 0;\r\n  line-height: 20px;\r\n  color: #000;\r\n  font-weight: 400;\r\n\r\n  @media (max-width: 768px) {\r\n    margin: 12px 0 6px 0;\r\n  }\r\n`;\r\nconst LabelBlock = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  overflow: hidden;\r\n  width: 100%;\r\n`;\r\nconst Price = styled.div`\r\n  font-size: 15px;\r\n  font-weight: 700;\r\n  color: #000;\r\n  flex-shrink: 0;\r\n`;\r\nconst Dot = styled.div`\r\n  width: 2px;\r\n  height: 2px;\r\n  margin: 0 8px;\r\n  border-radius: 50%;\r\n  background-color: rgba(0, 0, 0, 0.2);\r\n`;\r\nconst Material = styled.div`\r\n  font-size: 14px;\r\n  color: #000;\r\n  opacity: 0.7;\r\n  flex-shrink: 0;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  width: 70%;\r\n`;\r\n\r\nconst linkStyles = {\r\n  flexShrink: 0,\r\n  width: \"100%\",\r\n  display: \"flex\",\r\n  overflow: \"hidden\",\r\n};\r\n\r\ninterface IProductProps {\r\n  id: number;\r\n  name: string;\r\n  price: number;\r\n  material: string;\r\n  photo?: string;\r\n  needToChangePhotoByObserving?: boolean;\r\n  onClick?: () => void;\r\n}\r\n\r\nconst Product: FC<IProductProps> = ({\r\n  id,\r\n  name,\r\n  price,\r\n  material,\r\n  photo,\r\n  needToChangePhotoByObserving = false,\r\n  onClick,\r\n}) => {\r\n  const formattedPrice = useMemo(() => formatPrice(String(price)), [price]);\r\n  const thisElement = useRef(null);\r\n  const isIntersecting = useIsIntersecting(thisElement);\r\n  const finalPhoto = usePhoto(photo, id, {\r\n    needToChangePhotoByObserving,\r\n    isIntersecting,\r\n  });\r\n\r\n  return (\r\n    <Link ref={thisElement} style={linkStyles} to={`/product/${id}`}>\r\n      <ProductWrapper onClick={onClick ? onClick : null}>\r\n        <ProductImage photo={finalPhoto} data-src={photo}>\r\n          {!finalPhoto && <Spinner />}\r\n        </ProductImage>\r\n        <Heading>{name}</Heading>\r\n        <LabelBlock>\r\n          <Price>{formattedPrice} ‚ÇΩ</Price>\r\n          <Dot />\r\n          <Material>{material}</Material>\r\n        </LabelBlock>\r\n      </ProductWrapper>\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default Product;\r\n","import { useState, useEffect, RefObject } from \"react\";\r\n\r\nexport const useIsIntersecting = (element: RefObject<any>) => {\r\n  const [is, setIs] = useState<boolean>(false);\r\n\r\n  useEffect(() => {\r\n    const observer = new IntersectionObserver(\r\n      ([entry]) => {\r\n        setIs(entry.isIntersecting);\r\n      },\r\n      {\r\n        rootMargin: \"0px\",\r\n        threshold: 0.3,\r\n      }\r\n    );\r\n\r\n    if (element.current) {\r\n      observer.observe(element.current);\r\n    }\r\n\r\n    return () => {\r\n      observer.disconnect();\r\n    };\r\n  }, [element]);\r\n\r\n  return is;\r\n};\r\n","import { attach, createStore } from \"effector\";\r\nimport { AuthedRequestT, request } from \"../../api/request\";\r\nimport { ICategory } from \"./types\";\r\n\r\nexport const fetchCategories = attach<void, AuthedRequestT<ICategory[]>>({\r\n  effect: request,\r\n  mapParams: () => ({\r\n    method: \"GET\",\r\n    url: \"category\",\r\n  }),\r\n});\r\n\r\nexport const $categories = createStore<ICategory[]>(\r\n  []\r\n).on(fetchCategories.doneData, (st, x) => (x.result ? x.result : []));\r\n","import { createStore, attach, merge, combine } from \"effector\";\r\nimport { request, AuthedRequestT } from \"../../api/request\";\r\nimport { $categories } from \"../category\";\r\nimport { IProduct } from \"../models/ProductModel\";\r\nimport { ICategoryProducts } from \"./types\";\r\n\r\nexport const fetchProductsFx = attach<void, AuthedRequestT<IProduct[]>>({\r\n  effect: request,\r\n  mapParams: () => ({\r\n    method: \"GET\",\r\n    url: \"product\",\r\n  }),\r\n});\r\n\r\nexport const fetchProductsByCategoryIdFx = attach<\r\n  string,\r\n  AuthedRequestT<IProduct[]>\r\n>({\r\n  effect: request,\r\n  mapParams: (categoryId) => ({\r\n    method: \"GET\",\r\n    url: `product/categoryId/${categoryId}`,\r\n  }),\r\n});\r\n\r\nexport const $products = createStore<IProduct[]>([])\r\n  .on(fetchProductsFx.doneData, (st, x) =>\r\n    x.result\r\n      ? // @ts-ignore\r\n        x.result.map((x) => ({ ...x, photos: x.photos.map((x) => x.name) }))\r\n      : []\r\n  )\r\n  .on(fetchProductsByCategoryIdFx.doneData, (st, x) =>\r\n    x.result\r\n      ? x.result\r\n          .filter((x) => {\r\n            if (!st.find((k) => k.id === x.id)) {\r\n              return x;\r\n            }\r\n          })\r\n          // @ts-ignore\r\n          .map((x) => ({ ...x, photos: x.photos.map((x) => x.name) }))\r\n      : []\r\n  );\r\n\r\nexport const $allProducts = createStore<IProduct[]>([]).on(\r\n  fetchProductsFx.doneData,\r\n  (st, x) =>\r\n    x.result\r\n      ? // @ts-ignore\r\n        x.result.map((x) => ({ ...x, photos: x.photos.map((x) => x.name) }))\r\n      : []\r\n);\r\n\r\nexport let $productsOfCategory = combine(\r\n  $categories,\r\n  $products,\r\n  (category, products) =>\r\n    category.map(({ id }) => ({\r\n      categoryId: String(id),\r\n      products: products.filter(({ categoryId }) => categoryId === id),\r\n    }))\r\n);\r\n","import { useStore } from \"effector-react\";\r\nimport { FC, useEffect, useState } from \"react\";\r\nimport { Container } from \"react-bootstrap\";\r\nimport { useParams, useLocation } from \"react-router\";\r\nimport styled from \"styled-components\";\r\nimport Spinner from \"../../../ui/Spinner\";\r\nimport Product from \"../../../ui/Product\";\r\nimport {\r\n  $products,\r\n  fetchProductsFx,\r\n  fetchProductsByCategoryIdFx,\r\n} from \"../../../store/product/products\";\r\nimport { $productsOfCategory } from \"../../../store/product/products\";\r\n\r\nconst Wrapper = styled.div``;\r\nconst Grid = styled.div`\r\n  display: grid;\r\n  gap: 10px;\r\n  grid-template-columns: 1fr 1fr 1fr;\r\n  row-gap: 24px;\r\n  margin-top: 20px;\r\n\r\n  @media (min-width: 240px) and (max-width: 768px) {\r\n    grid-template-columns: 1fr;\r\n  }\r\n\r\n  @media (min-width: 768px) and (max-width: 1200px) {\r\n    grid-template-columns: 1fr 1fr;\r\n  }\r\n`;\r\nconst SpinnerBlock = styled.div`\r\n  width: 100%;\r\n  height: 400px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst MainProductList: FC = () => {\r\n  const pendingCategory = useStore(fetchProductsByCategoryIdFx.pending);\r\n  const pendingAll = useStore(fetchProductsFx.pending);\r\n  const products = useStore($products);\r\n  const categoryId = useParams<{ id?: string }>()?.id;\r\n  const isCategory = /category/.test(useLocation()?.pathname);\r\n\r\n  const productsOfCategory = useStore($productsOfCategory);\r\n\r\n  const [finalProducts, setFinalProducts] = useState(products);\r\n\r\n  useEffect(() => {\r\n    !products.length && !pendingAll && fetchProductsFx();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setFinalProducts(products);\r\n  }, [products]);\r\n\r\n  useEffect(() => {\r\n    if (isCategory && !pendingCategory && !pendingAll) {\r\n      const filteredProducts = productsOfCategory.find(\r\n        (x) => x.categoryId === categoryId\r\n      );\r\n\r\n      if (filteredProducts?.products?.length > 0) {\r\n        setFinalProducts(filteredProducts?.products);\r\n      }\r\n      // else {\r\n      //   fetchProductsByCategoryIdFx(categoryId);\r\n      // }\r\n    }\r\n  }, [isCategory, categoryId, products, pendingCategory, pendingAll]);\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Container>\r\n        {pendingAll || pendingCategory ? (\r\n          <SpinnerBlock>\r\n            <Spinner />\r\n          </SpinnerBlock>\r\n        ) : (\r\n          <Grid>\r\n            {finalProducts.map(({ label, photos, ...rest }) => (\r\n              <Product\r\n                onClick={() => window.scroll(0, 0)}\r\n                photo={photos?.length && photos[0]}\r\n                material={label}\r\n                needToChangePhotoByObserving={true}\r\n                {...rest}\r\n              />\r\n            ))}\r\n          </Grid>\r\n        )}\r\n      </Container>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default MainProductList;\r\n","import { restore, createEvent, sample, createStore } from \"effector-logger\";\r\n\r\nexport const clearSearch = createEvent();\r\nexport const changeSearch = createEvent<string>();\r\nexport const $search = restore(changeSearch, \"\").reset(clearSearch);\r\n\r\nexport const changeSuggestion = createEvent<boolean>();\r\nexport const $suggestionOpen = createStore(false).on(\r\n  changeSuggestion,\r\n  (_, open) => (_ !== open ? open : _)\r\n);\r\n\r\nsample({\r\n  source: $search,\r\n  fn: (value) => (value.length > 0 ? true : false),\r\n  target: changeSuggestion,\r\n});\r\n","import { useEffect } from \"react\";\r\n\r\nconst useClickOutside = (\r\n  ref: React.RefObject<any>[],\r\n  handler: (event?: Event) => void\r\n) => {\r\n  useEffect(() => {\r\n    const listener = (event: Event) => {\r\n      if (ref.some((x) => !x.current || x.current.contains(event.target))) {\r\n        return;\r\n      }\r\n      if (handler) {\r\n        handler(event);\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"mousedown\", listener);\r\n    document.addEventListener(\"touchstart\", listener);\r\n\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", listener);\r\n      document.removeEventListener(\"touchstart\", listener);\r\n    };\r\n  }, [ref, handler]);\r\n};\r\n\r\nexport default useClickOutside;\r\n","import { FC } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport MainLogoBlack from \"../../images/icons/LogoBlack.svg\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\ntype VariantT = \"medium\" | \"small\";\r\n\r\nenum Variants {\r\n  medium = 100,\r\n  small = 150,\r\n}\r\n\r\nconst LogoImg = styled.img`\r\n  user-select: none;\r\n`;\r\nconst LogoLink = styled.div`\r\n  /* margin-right: 24px; */\r\n  font-size: 24px;\r\n  font-weight: 700;\r\n  text-decoration: none;\r\n  color: #000;\r\n`;\r\n\r\nconst Logo: FC<{ variant?: VariantT; width?: number }> = ({\r\n  variant,\r\n  width,\r\n}) => {\r\n  return (\r\n    <Link title=\"–ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É\" to=\"/\">\r\n      <LogoLink>\r\n        <LogoImg width={width || \"200\"} src={MainLogoBlack} />\r\n      </LogoLink>\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default Logo;\r\n","import { FC, createRef } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { changeSuggestion } from \"../logic\";\r\nimport useClickOutside from \"../../../hooks/useClickOutside\";\r\n\r\nconst SuggestionWrapper = styled.ul`\r\n  list-style: none;\r\n  margin: 0;\r\n  padding: 0;\r\n  position: absolute;\r\n  width: 100%;\r\n  top: 45px;\r\n  background: #fff;\r\n  border-radius: 4px;\r\n  padding: 4px 0px;\r\n  z-index: 1000;\r\n  box-shadow: 0 12px 24px -7px rgb(0 0 0 / 16%), 0 0px 2px rgb(0 0 0 / 20%);\r\n\r\n  @media (max-width: 768px) {\r\n    top: 50px;\r\n  }\r\n`;\r\nconst Suggest = styled.li`\r\n  font-size: 17px;\r\n`;\r\nconst SuggestLink = styled.a`\r\n  font-size: 16px;\r\n  width: 100%;\r\n  display: flex;\r\n  text-decoration: none;\r\n  color: #000;\r\n  padding: 10px 20px;\r\n\r\n  &:hover {\r\n    background-color: #f1f1f1;\r\n  }\r\n`;\r\n\r\nconst Suggestion: FC = () => {\r\n  const myRef = createRef<HTMLUListElement>();\r\n\r\n  useClickOutside([myRef], () => changeSuggestion(false));\r\n\r\n  return (\r\n    <SuggestionWrapper ref={myRef}>\r\n      <Suggest>\r\n        <SuggestLink href=\"#\">–ü—Ä–∏–∫–æ–ª—å–Ω—ã–µ –§—É—Ç–±–æ–ª–∫–∏ —Å –ø—Ä–∏–Ω—Ç–∞–º–∏</SuggestLink>\r\n        <SuggestLink href=\"#\">\r\n          SELBER EIN ORT, –ú–∞—Å—Ç–µ—Ä—Å–∫–∞—è –ü–µ—á–∞—Ç–∏ –∏ –¢–∫–∞—á–µ—Å—Ç–≤–∞\r\n        </SuggestLink>\r\n        <SuggestLink href=\"#\">\r\n          –ú—É–∂—Å–∫–∏–µ —Ñ—É—Ç–±–æ–ª–∫–∏ –∏ –º–∞–π–∫–∏ - Street Beat\r\n        </SuggestLink>\r\n        <SuggestLink href=\"#\">–§—É—Ç–±–æ–ª–∫–∏ –∏ –º–∞–π–∫–∏ –º—É–∂—Å–∫–∏–µ - OZON</SuggestLink>\r\n        <SuggestLink href=\"#\">\r\n          –ú—É–∂—Å–∫–∏–µ —Ñ—É—Ç–±–æ–ª–∫–∏ –∏ –ø–æ–ª–æ - Wildberries\r\n        </SuggestLink>\r\n      </Suggest>\r\n    </SuggestionWrapper>\r\n  );\r\n};\r\n\r\nexport default Suggestion;\r\n","import { FC } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Suggestion from \"./Suggestion/index\";\r\nimport { useStore } from \"effector-react\";\r\nimport { $search, changeSearch, $suggestionOpen } from \"./logic\";\r\n\r\nconst Wrapper = styled.div`\r\n  position: relative;\r\n  width: 100%;\r\n`;\r\nconst Input = styled.input`\r\n  border-radius: 5px;\r\n  border: 2px solid #ccc;\r\n  padding: 6px 10px;\r\n  font-size: 17px;\r\n  /* min-width: 400px; */\r\n\r\n  height: 44px;\r\n  width: 100%;\r\n\r\n  &:focus {\r\n    border: 2px solid var(--primary-color);\r\n  }\r\n  &:focus-visible {\r\n    outline: none;\r\n  }\r\n\r\n  @media (max-width: 768px) {\r\n    font-size: 14px;\r\n  }\r\n`;\r\n\r\nconst Search: FC = () => {\r\n  const value = useStore($search);\r\n  const suggestionOpen = useStore($suggestionOpen);\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Input\r\n        onChange={(e) => changeSearch(e.target.value)}\r\n        value={value}\r\n        autoCapitalize=\"false\"\r\n        autoComplete=\"false\"\r\n        autoCorrect=\"false\"\r\n        placeholder=\"–ò—Å–∫–∞—Ç—å —Ç–æ–≤–∞—Ä—ã\"\r\n      />\r\n      {suggestionOpen && <Suggestion />}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n","import styled from \"styled-components\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport { useStore } from \"effector-react\";\r\nimport { FC, useEffect, useState } from \"react\";\r\nimport { $categories, fetchCategories } from \"../../store/category\";\r\n\r\nconst CategoryListUl = styled.ul`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 0;\r\n  list-style: none;\r\n  justify-content: start;\r\n  margin: 6px 0 0 0;\r\n\r\n  @media (max-width: 768px) {\r\n    overflow-x: scroll;\r\n    margin: 0 -16px;\r\n    /* width: 100%; */\r\n  }\r\n`;\r\nconst Category = styled.li<{ active?: boolean }>`\r\n  font-size: 16px;\r\n  height: 40px;\r\n  text-align: center;\r\n  margin-right: 24px;\r\n  position: relative;\r\n  cursor: pointer;\r\n  color: ${(p) => (p.active ? \"var(--primary-color)\" : \"#000\")};\r\n  font-weight: ${({ active }) => (active ? 600 : 400)};\r\n\r\n  &:last-child {\r\n    margin-right: 0;\r\n  }\r\n\r\n  ${({ active }) =>\r\n    active === true\r\n      ? `\r\n    &:before {\r\n      content: \"\"\r\n    }\r\n  `\r\n      : 0}}\r\n\r\n  &:before {\r\n    display: block;\r\n    background-color: var(--primary-color);\r\n    height: 3px;\r\n    /* border-top-left-radius: 6px;\r\n    border-top-right-radius: 6px; */\r\n    width: 100%;\r\n    position: absolute;\r\n    bottom: -1px;\r\n  }\r\n\r\n  @media (max-width: 768px) {\r\n    white-space: nowrap;\r\n    font-size: 16px;\r\n\r\n    &:first-child {\r\n      padding-left: 16px;\r\n      &:before {\r\n        width: calc(100% - 16px);\r\n      }\r\n    }\r\n\r\n    &:last-child {\r\n      padding-right: 16px;\r\n      &:before {\r\n        width: calc(100% - 16px);\r\n      }\r\n    }\r\n\r\n    &:before {\r\n      height: 4px;\r\n    }\r\n  }\r\n`;\r\n\r\nconst CategoryList: FC = () => {\r\n  const [tab, setTab] = useState<number>(\r\n    parseInt(useParams<{ id: string }>()?.id) - 1\r\n  );\r\n  const categories = useStore($categories);\r\n\r\n  useEffect(() => {\r\n    if (!categories.length) {\r\n      fetchCategories();\r\n    }\r\n  }, [categories]);\r\n\r\n  return (\r\n    <CategoryListUl>\r\n      {categories.map(({ id, name }, index) => (\r\n        <Category\r\n          active={index === tab}\r\n          key={name}\r\n          onClickCapture={() => setTab(index)}\r\n        >\r\n          <Link\r\n            className=\"commonLink commonLink_full-height\"\r\n            to={\"/category/\" + id}\r\n          >\r\n            {name}\r\n          </Link>\r\n        </Category>\r\n      ))}\r\n    </CategoryListUl>\r\n  );\r\n};\r\n\r\nexport default CategoryList;\r\n","export default __webpack_public_path__ + \"static/media/LogoBlack.a76b9f4c.svg\";","export default __webpack_public_path__ + \"static/media/cartIcon.43eed7cb.svg\";","import { attach, createEvent, createStore, restore } from \"effector\";\r\nimport { AuthedRequestT, request } from \"../../api/request\";\r\nimport {\r\n  arrayToQuery,\r\n  formatPrice,\r\n  formatProductsCount,\r\n} from \"../../helpers/textHelper\";\r\nimport { IProductCart, SizeT } from \"../models/ProductModel\";\r\n\r\nexport const MAX_PRODUCTS_IN_CART = 5;\r\n\r\nexport const fetchSavedProductsToCart = attach<\r\n  string[],\r\n  AuthedRequestT<IProductCart[]>\r\n>({\r\n  effect: request,\r\n  mapParams: (ids) => ({\r\n    method: \"GET\",\r\n    url: `product/get-by-ids?${arrayToQuery(\"id\", ids)}`,\r\n  }),\r\n});\r\n\r\nexport const toggleCart = createEvent<boolean>();\r\nexport const $cartVisible = restore(toggleCart, false);\r\n\r\nexport const changeById = createEvent<{ id: number; value: number }>();\r\nexport const increaseById = createEvent<number>();\r\nexport const decreaseById = createEvent<number>();\r\nexport const deleteById = createEvent<number>();\r\nexport const addProductToCart = createEvent<IProductCart>();\r\nexport const updateProductInCart = createEvent<{\r\n  id: number;\r\n  size?: SizeT;\r\n  quantity?: number;\r\n}>();\r\n\r\nconst initProducts = createEvent<IProductCart[]>();\r\n\r\nexport const $cartProducts = createStore<IProductCart[]>([])\r\n  .on(initProducts, (st, x) =>\r\n    x.map((product) => ({\r\n      ...product,\r\n      totalPrice: product.price * product.quantity,\r\n    }))\r\n  )\r\n  .on(addProductToCart, (state, product) => {\r\n    product.totalPrice = product.price;\r\n\r\n    if (state.every((x) => x.id !== product.id)) {\r\n      return [...state, product];\r\n    }\r\n  })\r\n  .on(updateProductInCart, (state, { id, size, quantity }) => {\r\n    const product = state.find((x) => x.id === id) as IProductCart;\r\n    product.quantity = quantity;\r\n    product.size = size;\r\n    product.totalPrice = product.price * product.quantity;\r\n\r\n    return [...state];\r\n  })\r\n  .on(increaseById, (state, id) => {\r\n    const product = state.find((x) => x.id === id) as IProductCart;\r\n    product.quantity++;\r\n    product.totalPrice = product.price * product.quantity;\r\n\r\n    return [...state];\r\n  })\r\n  .on(decreaseById, (state, id) => {\r\n    const product = state.find((x) => x.id === id) as IProductCart;\r\n    if (product.quantity !== 1) {\r\n      product.quantity--;\r\n      product.totalPrice = product.price * product.quantity;\r\n    }\r\n\r\n    return [...state];\r\n  })\r\n  .on(deleteById, (state, id) => [...state.filter((x) => x.id !== id)]);\r\n\r\nexport const $totalPrice = $cartProducts.map((products) => {\r\n  let result: number = 0;\r\n\r\n  products.forEach(({ price, quantity }) => {\r\n    result += price * quantity;\r\n  });\r\n\r\n  return formatPrice(String(result));\r\n});\r\nexport const $totalProducts = $cartProducts.map((products) => {\r\n  let result: number = 0;\r\n\r\n  products.forEach(({ quantity }) => {\r\n    result += quantity;\r\n  });\r\n\r\n  return result;\r\n});\r\nexport const $totalWord = $totalProducts.map((total) =>\r\n  formatProductsCount(total)\r\n);\r\n\r\nexport const $otherProducts = $cartProducts.map((products) => {\r\n  let result: number = 0;\r\n\r\n  products.slice(MAX_PRODUCTS_IN_CART).forEach(({ quantity }) => {\r\n    result += quantity;\r\n  });\r\n\r\n  return result;\r\n});\r\n\r\ninterface ISmallProduct {\r\n  id: number;\r\n  size: SizeT;\r\n  quantity: number;\r\n}\r\n\r\nfetchSavedProductsToCart.doneData.watch((products) => {\r\n  const cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n  if (!cart) {\r\n    return;\r\n  }\r\n\r\n  let newProducts = products.result;\r\n  newProducts = newProducts.map((product) => {\r\n    // @ts-ignore\r\n    let same = cart.products.find((same) => same.id === product.id);\r\n    return {\r\n      ...product,\r\n      // @ts-ignore\r\n      photos: product.photos.map((x) => x.name),\r\n      size: same.size,\r\n      quantity: same.quantity,\r\n    };\r\n  });\r\n\r\n  initProducts(newProducts);\r\n});\r\n\r\naddProductToCart.watch(({ id, quantity, size }) => {\r\n  let cart = localStorage.getItem(\"cart\");\r\n  if (!cart) {\r\n    const newCart = {\r\n      products: [\r\n        {\r\n          id,\r\n          quantity,\r\n          size,\r\n        },\r\n      ] as ISmallProduct[],\r\n    };\r\n    localStorage.setItem(\"cart\", JSON.stringify(newCart));\r\n  } else {\r\n    cart = JSON.parse(cart);\r\n    //@ts-ignore\r\n    cart.products = [...cart.products, { id, quantity, size }];\r\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n  }\r\n});\r\n\r\ndeleteById.watch((id) => {\r\n  let cart = localStorage.getItem(\"cart\");\r\n  if (!cart) {\r\n    return;\r\n  }\r\n\r\n  cart = JSON.parse(cart);\r\n  //@ts-ignore\r\n  cart.products = cart.products.filter((x) => x.id !== id);\r\n  localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n});\r\n\r\ndecreaseById.watch((id) => {\r\n  let cart = localStorage.getItem(\"cart\");\r\n  if (!cart) {\r\n    return;\r\n  }\r\n\r\n  cart = JSON.parse(cart);\r\n  //@ts-ignore\r\n  const item = cart.products.find((x) => x.id === id);\r\n  item.quantity = item.quantity - 1;\r\n  localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n});\r\n\r\nincreaseById.watch((id) => {\r\n  let cart = localStorage.getItem(\"cart\");\r\n  if (!cart) {\r\n    return;\r\n  }\r\n\r\n  cart = JSON.parse(cart);\r\n  //@ts-ignore\r\n  const item = cart.products.find((x) => x.id === id);\r\n  item.quantity = item.quantity + 1;\r\n  localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n});\r\n","export default __webpack_public_path__ + \"static/media/clear2.784bfeed.svg\";","import React, { FC } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport DeleteIcon from \"../../images/icons/clear2.svg\";\r\n\r\nconst QuantityControl = styled.button`\r\n  border: 1px solid #c4c4c4;\r\n  width: 32px;\r\n  height: 32px;\r\n  background-color: #fff;\r\n  border-radius: 50%;\r\n  background-position: center;\r\n  background-size: cover;\r\n`;\r\nconst DeleteControl = styled(QuantityControl)`\r\n  border: none;\r\n  background-image: url(${DeleteIcon});\r\n  display: flex;\r\n`;\r\n\r\ninterface IClearButtonProps {\r\n  onClick: () => void;\r\n}\r\n\r\nconst ClearButton: FC<IClearButtonProps> = ({ onClick }) => {\r\n  return (\r\n    <DeleteControl aria-label=\"–£–¥–∞–ª–∏—Ç—å\" title=\"–£–¥–∞–ª–∏—Ç—å\" onClick={onClick} />\r\n  );\r\n};\r\n\r\nexport default ClearButton;\r\n","export default __webpack_public_path__ + \"static/media/add2.be918537.svg\";","export default __webpack_public_path__ + \"static/media/remove2.b0ea8401.svg\";","import { FC, useState, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport AddIcon from \"../../images/icons/add2.svg\";\r\nimport RemoveIcon from \"../../images/icons/remove2.svg\";\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\nconst QuantityCounter = styled.div<{ width?: number }>`\r\n  font-weight: 500;\r\n  font-size: 18px;\r\n  line-height: 17px;\r\n  text-align: center;\r\n  margin: 0 10px;\r\n  min-width: ${(p) => (p.width ? `${p.width}px` : \"initial\")};\r\n`;\r\nconst QuantityControl–° = styled.button`\r\n  border: 1px solid #c4c4c4;\r\n  width: 32px;\r\n  height: 32px;\r\n  background-color: #fff;\r\n  border-radius: 50%;\r\n  background-position: center;\r\n  background-size: auto;\r\n  background-repeat: no-repeat;\r\n\r\n  transition: transform 0.2s ease;\r\n\r\n  &:active {\r\n    transform: scale(0.94);\r\n  }\r\n\r\n  @media (max-width: 768px) {\r\n    width: 42px;\r\n    height: 42px;\r\n  }\r\n`;\r\nconst PlusControl = styled(QuantityControl–°)`\r\n  background-image: url(${AddIcon});\r\n`;\r\nconst MinusControl = styled(QuantityControl–°)<{ disabled?: boolean }>`\r\n  opacity: ${({ disabled }) => (disabled ? 0.5 : 1)};\r\n  background-image: url(${RemoveIcon});\r\n`;\r\n\r\ninterface IQuantityControlProps {\r\n  quantity: number;\r\n\r\n  onChange?: (value: string) => void;\r\n  onIncrease: () => void;\r\n  onDecrease: () => void;\r\n\r\n  width?: number;\r\n}\r\n\r\nconst QuantityControl: FC<IQuantityControlProps> = ({\r\n  quantity,\r\n  onChange,\r\n  onIncrease,\r\n  onDecrease,\r\n  width,\r\n}) => {\r\n  // const [value, setValue] = useState(quantity);\r\n\r\n  // useEffect(() => {\r\n  //   setValue(quantity);\r\n  // }, [quantity]);\r\n\r\n  return (\r\n    <Wrapper>\r\n      <MinusControl\r\n        disabled={quantity === 1}\r\n        onClick={onDecrease}\r\n        aria-label=\"–£–º–µ–Ω—å—à–∏—Ç—å\"\r\n        title=\"–£–º–µ–Ω—å—à–∏—Ç—å\"\r\n      />\r\n      <QuantityCounter width={width} aria-label=\"–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ\">\r\n        {quantity}\r\n      </QuantityCounter>\r\n      <PlusControl\r\n        onClick={onIncrease}\r\n        aria-label=\"–£–≤–µ–ª–∏—á–∏—Ç—å\"\r\n        title=\"–£–≤–µ–ª–∏—á–∏—Ç—å\"\r\n      />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default QuantityControl;\r\n","import { FC, useMemo } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { formatPrice } from \"../../../helpers/textHelper\";\r\nimport ClearButton from \"../../../ui/ClearButton\";\r\nimport Spinner from \"../../../ui/Spinner\";\r\nimport QuantityControl from \"../../../ui/QuantityControl\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { usePhoto } from \"../../../hooks/usePhoto\";\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n\r\n  &:not(:first-child) {\r\n    margin-top: 12px;\r\n  }\r\n`;\r\nconst Avatar = styled.img`\r\n  border-radius: 50%;\r\n  border: 1px solid rgba(0, 0, 0, 0.1);\r\n  width: 48px;\r\n  height: 48px;\r\n  margin-right: 10px;\r\n`;\r\nconst InfoBlock = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\nconst NameBlock = styled.div`\r\n  margin-right: 14px;\r\n  max-width: 160px;\r\n`;\r\nconst Name = styled.div`\r\n  font-weight: 500;\r\n  font-size: 14px;\r\n  line-height: 24px;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n`;\r\nconst Price = styled.div`\r\n  font-size: 14px;\r\n  line-height: 17px;\r\n  display: flex;\r\n  align-items: baseline;\r\n`;\r\nconst Controls = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\nconst ClearWrapper = styled.div`\r\n  margin-left: 16px;\r\n`;\r\nconst SmallPrice = styled.div`\r\n  margin-left: 4px;\r\n  font-weight: 400;\r\n  opacity: 0.7;\r\n`;\r\nconst AvatarWrapper = styled.div`\r\n  position: relative;\r\n`;\r\n\r\ninterface ICartSmallProductProps {\r\n  id: number;\r\n  name: string;\r\n  price: number;\r\n  totalPrice?: number;\r\n  avatarPath: string;\r\n  quantity: number;\r\n\r\n  onChange: (value: string) => void;\r\n  onDelete: () => void;\r\n  onIncrease: () => void;\r\n  onDecrease: () => void;\r\n}\r\n\r\nconst CartSmallProduct: FC<ICartSmallProductProps> = ({\r\n  id,\r\n  name,\r\n  price,\r\n  totalPrice,\r\n  avatarPath,\r\n  quantity,\r\n  onChange,\r\n  onDelete,\r\n  onIncrease,\r\n  onDecrease,\r\n}) => {\r\n  const finalPhoto = usePhoto(avatarPath, id);\r\n  const formattedPrice = useMemo(() => formatPrice(String(price)), [price]);\r\n  const formattedTotalPrice = useMemo(() => formatPrice(String(totalPrice)), [\r\n    totalPrice,\r\n  ]);\r\n\r\n  return (\r\n    <Wrapper role=\"listitem\">\r\n      <InfoBlock>\r\n        <Link style={{ position: \"relative\" }} to={`/product/${id}`}>\r\n          {!finalPhoto && (\r\n            <Spinner\r\n              style={{\r\n                position: \"absolute\",\r\n                transform: \"translate(-70%, -50%)\",\r\n                top: \"50%\",\r\n                left: \"50%\",\r\n              }}\r\n            />\r\n          )}\r\n          <Avatar src={finalPhoto} />\r\n        </Link>\r\n        <NameBlock>\r\n          <Link to={`/product/${id}`}>\r\n            <Name title={name}>{name}</Name>\r\n          </Link>\r\n          <Price>\r\n            {formattedPrice} ‚ÇΩ ‚Äî<SmallPrice>{formattedTotalPrice} ‚ÇΩ</SmallPrice>\r\n          </Price>\r\n        </NameBlock>\r\n      </InfoBlock>\r\n      <Controls>\r\n        <QuantityControl\r\n          width={25}\r\n          onChange={(value) => onChange(value)}\r\n          onDecrease={onDecrease}\r\n          onIncrease={onIncrease}\r\n          quantity={quantity}\r\n        />\r\n        <ClearWrapper>\r\n          <ClearButton onClick={onDelete} />\r\n        </ClearWrapper>\r\n      </Controls>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default CartSmallProduct;\r\n","import { FC } from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst ButtonBase = styled.button<{ fixed?: boolean }>`\r\n  border-radius: 4px;\r\n  padding: 10px 19px;\r\n  font-size: 15px;\r\n  font-weight: 500;\r\n  border: 0;\r\n  user-select: none;\r\n\r\n  width: ${(p) => (p.fixed ? \"100%\" : \"initial\")};\r\n\r\n  opacity: ${(p) => (p.disabled ? \"0.6\" : \"1\")};\r\n  cursor: ${(p) => (p.disabled ? \"not-allowed\" : \"cursor\")};\r\n\r\n  transition: transform 0.2s ease;\r\n\r\n  &:active {\r\n    transform: scale(0.97);\r\n  }\r\n`;\r\nconst ButtonPrimary = styled(ButtonBase)`\r\n  background: var(--primary-color);\r\n  color: #fff;\r\n  border: 2px solid var(--primary-color);\r\n\r\n  /* &:hover {\r\n    background-color: #7c3fca;\r\n  } */\r\n\r\n  /* &:active {\r\n    background-color: #7139b9;\r\n  } */\r\n`;\r\nconst ButtonSecondary = styled(ButtonBase)`\r\n  background: #fff;\r\n  color: var(--primary-color);\r\n  border: 2px solid var(--primary-color);\r\n`;\r\n\r\ntype VariantT = \"primary\" | \"secondary\" | \"success\" | \"danger\";\r\n\r\ninterface IButtonProps {\r\n  fixed?: boolean;\r\n  disabled?: boolean;\r\n  variant?: VariantT;\r\n  onClick?: () => void;\r\n  title?: string;\r\n}\r\n\r\nconst Button: FC<IButtonProps> = ({\r\n  children,\r\n  variant,\r\n  onClick,\r\n  disabled,\r\n  ...rest\r\n}) => {\r\n  onClick = disabled ? null : onClick;\r\n\r\n  switch (variant) {\r\n    case \"primary\":\r\n      return (\r\n        <ButtonPrimary disabled={disabled} onClick={onClick} {...rest}>\r\n          {children}\r\n        </ButtonPrimary>\r\n      );\r\n\r\n    case \"secondary\":\r\n      return (\r\n        <ButtonSecondary disabled={disabled} onClick={onClick} {...rest}>\r\n          {children}\r\n        </ButtonSecondary>\r\n      );\r\n\r\n    default:\r\n      return (\r\n        <ButtonPrimary disabled={disabled} onClick={onClick} {...rest}>\r\n          {children}\r\n        </ButtonPrimary>\r\n      );\r\n  }\r\n};\r\n\r\nexport default Button;\r\n","import { FC, useRef, RefObject, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport CartSmallProduct from \"./CartSmallProduct\";\r\nimport Button from \"../../../ui/Button\";\r\nimport {\r\n  $cartProducts,\r\n  $totalPrice,\r\n  $totalWord,\r\n  $totalProducts,\r\n  $otherProducts,\r\n  $cartVisible,\r\n  toggleCart,\r\n  changeById,\r\n  increaseById,\r\n  decreaseById,\r\n  deleteById,\r\n  MAX_PRODUCTS_IN_CART,\r\n  fetchSavedProductsToCart,\r\n} from \"../../../store/cart/index\";\r\nimport { useStore } from \"effector-react\";\r\nimport useClickOutside from \"../../../hooks/useClickOutside\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Spinner from \"../../../ui/Spinner\";\r\n\r\nconst Wrapper = styled.div`\r\n  z-index: 1000;\r\n  position: absolute;\r\n  min-width: 400px;\r\n  right: 0;\r\n  top: 50px;\r\n  background: #ffffff;\r\n  box-shadow: 0px 0px 2px rgb(0 0 0 / 24%), 0px 19px 50px -12px rgb(0 0 0 / 28%);\r\n  border-radius: 6px;\r\n  padding: 12px 16px;\r\n`;\r\nconst Head = styled.h3`\r\n  font-weight: bold;\r\n  font-size: 24px;\r\n  line-height: 24px;\r\n  margin: 4px 0 16px 0;\r\n  /* color: #000000; */\r\n`;\r\nconst ProductList = styled.div``;\r\nconst BottomBlock = styled.div`\r\n  margin-top: 20px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n`;\r\nconst Total = styled.div`\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n`;\r\nconst Empty = styled.div`\r\n  font-size: 15px;\r\n  margin-top: 6px;\r\n`;\r\nconst ToManyProductsblock = styled.div`\r\n  display: flex;\r\n  font-size: 14px;\r\n  margin-top: 14px;\r\n  padding-top: 8px;\r\n  border-top: 1px dashed #e0e0e0;\r\n`;\r\n\r\ninterface IDropdownCartProps {\r\n  smallCartButtonRef: RefObject<any>;\r\n}\r\n\r\nconst DropdownCart: FC<IDropdownCartProps> = ({ smallCartButtonRef }) => {\r\n  const cartRef = useRef(null);\r\n  const products = useStore($cartProducts);\r\n  const totalPrice = useStore($totalPrice);\r\n  const totalWord = useStore($totalWord);\r\n  const totalProducts = useStore($totalProducts);\r\n  const otherProducts = useStore($otherProducts);\r\n  const cartVisible = useStore($cartVisible);\r\n  const loading = useStore(fetchSavedProductsToCart.pending);\r\n\r\n  const empty = products.length === 0;\r\n  const toManyProducts = products.length > MAX_PRODUCTS_IN_CART;\r\n\r\n  useClickOutside([cartRef, smallCartButtonRef], () =>\r\n    toggleCart(!cartVisible)\r\n  );\r\n\r\n  useEffect(() => {\r\n    const onLinkClickHandler = (event: MouseEvent) => {\r\n      if (\r\n        (event.target as HTMLElement).tagName === \"A\" ||\r\n        ((event.target as HTMLElement).parentNode as HTMLElement).tagName ===\r\n          \"A\"\r\n      ) {\r\n        toggleCart(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"click\", onLinkClickHandler);\r\n\r\n    return () => {\r\n      document.removeEventListener(\"click\", onLinkClickHandler);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <Wrapper ref={cartRef}>\r\n      <Head>–ö–æ—Ä–∑–∏–Ω–∞</Head>\r\n      {empty && !loading && (\r\n        <Empty>–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞—è. –°–∞–º–æ–µ –≤—Ä–µ–º—è –Ω–∞–ø–æ–ª–Ω–∏—Ç—å –µ—ë!</Empty>\r\n      )}\r\n      {loading && <Spinner margin=\"20px 0\" />}\r\n      {!empty && (\r\n        <ProductList role=\"list\">\r\n          {products\r\n            .slice(0, MAX_PRODUCTS_IN_CART)\r\n            .map(({ id, photos, ...rest }) => (\r\n              <CartSmallProduct\r\n                onChange={(value) => changeById({ id, value: parseInt(value) })}\r\n                onIncrease={() => increaseById(id)}\r\n                onDecrease={() => decreaseById(id)}\r\n                onDelete={() => deleteById(id)}\r\n                id={id}\r\n                avatarPath={photos.length && photos[0]}\r\n                {...rest}\r\n              />\r\n            ))}\r\n        </ProductList>\r\n      )}\r\n      {toManyProducts && (\r\n        <ToManyProductsblock>–ò –µ—â—ë {otherProducts} —Ç–æ–≤–∞—Ä–æ–≤</ToManyProductsblock>\r\n      )}\r\n      {!empty && (\r\n        <BottomBlock>\r\n          <Total>\r\n            {totalProducts} {totalWord}, {totalPrice} ‚ÇΩ\r\n          </Total>\r\n          <Link to=\"/cart\">\r\n            <Button onClick={() => toggleCart(!cartVisible)}>\r\n              –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑\r\n            </Button>\r\n          </Link>\r\n        </BottomBlock>\r\n      )}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default DropdownCart;\r\n","import { useStore } from \"effector-react\";\r\nimport { FC, useEffect, useRef, useState } from \"react\";\r\nimport { useLocation } from \"react-router\";\r\nimport styled from \"styled-components\";\r\nimport CartIcon from \"../../images/icons/cartIcon.svg\";\r\nimport {\r\n  $cartVisible,\r\n  $totalPrice,\r\n  $totalWord,\r\n  $totalProducts,\r\n  toggleCart,\r\n} from \"../../store/cart\";\r\nimport DropdownCart from \"./components/DropdownCart\";\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  position: relative;\r\n`;\r\nconst Cart = styled.button`\r\n  padding: 9px 16px;\r\n  background: #fff;\r\n  border-radius: 6px;\r\n  font-weight: 500;\r\n  font-size: 16px;\r\n  line-height: 19px;\r\n  color: #000000;\r\n  border: 1px solid #cacaca;\r\n\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  &:before {\r\n    content: \"\";\r\n    margin-right: 10px;\r\n    width: 24px;\r\n    height: 24px;\r\n    display: flex;\r\n    background-image: url(${CartIcon});\r\n  }\r\n\r\n  &:hover {\r\n    background-color: #f2f2f2;\r\n  }\r\n`;\r\nconst Status = styled.div`\r\n  font-size: 12px;\r\n  line-height: 15px;\r\n  text-align: center;\r\n  margin-top: 4px;\r\n  color: #000000;\r\n  position: absolute;\r\n  bottom: -20px;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  width: 150%;\r\n`;\r\n\r\nconst SmallCart: FC = () => {\r\n  const [url, setUrl] = useState<string>(useLocation().pathname);\r\n  const cartVisible = useStore($cartVisible);\r\n  const totalPrice = useStore($totalPrice);\r\n  const totalWord = useStore($totalWord);\r\n  const totalProducts = useStore($totalProducts);\r\n\r\n  const smallCartButtonRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    toggleCart(false);\r\n  }, [url]);\r\n\r\n  return (\r\n    <Wrapper ref={smallCartButtonRef}>\r\n      <Cart\r\n        onClick={() => toggleCart(!cartVisible)}\r\n        aria-label=\"–û—Ç–∫—Ä—ã—Ç—å –∫–æ—Ä–∑–∏–Ω—É\"\r\n        title=\"–û—Ç–∫—Ä—ã—Ç—å –∫–æ—Ä–∑–∏–Ω—É\"\r\n      >\r\n        –ö–æ—Ä–∑–∏–Ω–∞\r\n      </Cart>\r\n      {totalProducts > 0 && (\r\n        <Status>\r\n          {totalProducts} {totalWord}, {totalPrice} ‚ÇΩ\r\n        </Status>\r\n      )}\r\n      {cartVisible && <DropdownCart smallCartButtonRef={smallCartButtonRef} />}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default SmallCart;\r\n","import { FC } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Container } from \"react-bootstrap\";\r\nimport Search from \"../../../features/Search\";\r\nimport CategoryList from \"../../../features/Category\";\r\nimport Logo from \"../../../ui/Logo\";\r\nimport SmallCart from \"../../../features/SmallCart\";\r\n\r\nconst Wrapper = styled.header`\r\n  border-bottom: 1px solid #dadada;\r\n`;\r\nconst Flex = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\nconst HeaderWrapper = styled.div`\r\n  padding: 10px 0;\r\n  display: flex;\r\n  align-items: start;\r\n  justify-content: space-between;\r\n`;\r\nconst LogoWrapper = styled.div`\r\n  margin-right: 24px;\r\n`;\r\n\r\nconst DesktopHeader: FC = () => {\r\n  return (\r\n    <Wrapper>\r\n      <Container>\r\n        <HeaderWrapper>\r\n          <Flex style={{ width: \"100%\", marginRight: \"24px\" }}>\r\n            <LogoWrapper>\r\n              <Logo />\r\n            </LogoWrapper>\r\n            <Search />\r\n          </Flex>\r\n          <SmallCart />\r\n        </HeaderWrapper>\r\n        <CategoryList />\r\n      </Container>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default DesktopHeader;\r\n","import { FC } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Container } from \"react-bootstrap\";\r\nimport Search from \"../../../features/Search\";\r\nimport Logo from \"../../../ui/Logo\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport MenuIcon from \"../../../images/icons/menu.svg\";\r\nimport CartIcon from \"../../../images/icons/cartIcon.svg\";\r\nimport { useStore } from \"effector-react/effector-react.cjs\";\r\nimport { $totalProducts } from \"../../../store/cart\";\r\nimport CategoryList from \"../../../features/Category\";\r\n\r\nconst Wrapper = styled.header`\r\n  border-bottom: 1px solid #dadada;\r\n  overflow: hidden;\r\n`;\r\nconst HeaderWrapper = styled.div`\r\n  padding: 6px 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n`;\r\nconst IconButton = styled.div`\r\n  cursor: pointer;\r\n  position: relative;\r\n\r\n  &:first-child {\r\n    padding: 6px 12px 6px 0;\r\n  }\r\n  &:last-child {\r\n    padding: 6px 0 6px 12px;\r\n  }\r\n`;\r\nconst Icon = styled.img`\r\n  user-select: none;\r\n`;\r\nconst SearchBlock = styled.div`\r\n  margin-bottom: 12px;\r\n`;\r\n\r\nconst CartLabel = styled.div`\r\n  background-color: var(--primary-color);\r\n  color: #fff;\r\n  border-radius: 16px;\r\n  width: 20px;\r\n  height: 20px;\r\n  font-size: 10px;\r\n  text-align: center;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  position: absolute;\r\n  top: 30px;\r\n  transform: translateY(-50%);\r\n  right: 12px;\r\n  z-index: 1000;\r\n`;\r\n\r\nconst MobileHeader: FC = () => {\r\n  const cartProducts = useStore($totalProducts);\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Container>\r\n        <HeaderWrapper>\r\n          {/* <IconButton>\r\n            <Icon src={MenuIcon} />\r\n          </IconButton> */}\r\n          <Logo width={150} />\r\n          <Link to=\"/cart\">\r\n            <IconButton>\r\n              {cartProducts > 0 && <CartLabel>{cartProducts}</CartLabel>}\r\n              <Icon src={CartIcon} />\r\n            </IconButton>\r\n          </Link>\r\n        </HeaderWrapper>\r\n        <SearchBlock>\r\n          <Search />\r\n        </SearchBlock>\r\n        <CategoryList />\r\n      </Container>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default MobileHeader;\r\n","export const general = {\r\n  isMobile: false,\r\n\r\n  setMobile: function (value: boolean) {\r\n    this.isMobile = value;\r\n  },\r\n};\r\n","import { FC } from \"react\";\r\n\r\nimport DesktopHeader from \"./desktop\";\r\nimport MobileHeader from \"./mobile\";\r\nimport { general } from \"../../store/general\";\r\n\r\nconst Header: FC = () => {\r\n  const { isMobile } = general;\r\n\r\n  return <>{isMobile ? <MobileHeader /> : <DesktopHeader />}</>;\r\n};\r\n\r\nexport default Header;\r\n","import { FC } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Container } from \"react-bootstrap\";\r\nimport Logo from \"../../ui/Logo\";\r\n\r\nconst Wrapper = styled.div`\r\n  padding: 24px;\r\n  background-color: #eaeaea;\r\n  margin: 36px 0;\r\n  border-radius: 6px;\r\n  text-align: center;\r\n  font-size: 14px;\r\n\r\n  @media (max-width: 768px) {\r\n    margin: 16px 0 12px 0;\r\n  }\r\n`;\r\nconst LogoWrapper = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  margin: 8px 0;\r\n`;\r\n\r\nconst Footer: FC = () => {\r\n  return (\r\n    <Container>\r\n      <Wrapper>\r\n        –ê–º–±–∏–¥–µ–∫—Å—Ç—Ä ‚Äî –º–∞–≥–∞–∑–∏–Ω —ç—Å—Ç–µ—Ç–∏–∫–∏. {new Date().getFullYear()}. –í—Å–µ –ø—Ä–∞–≤–∞\r\n        –∑–∞—â–∏—â–µ–Ω—ã.\r\n      </Wrapper>\r\n      {/* <LogoWrapper>\r\n        <Logo variant=\"small\" />\r\n      </LogoWrapper> */}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import { FC } from \"react\";\r\nimport MainProductList from \"./productList\";\r\nimport Header from \"../../sections/Header\";\r\nimport Footer from \"../../sections/Footer\";\r\n\r\nconst Main: FC = () => {\r\n  return (\r\n    <>\r\n      <Header />\r\n      <MainProductList />\r\n      <Footer />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Main;\r\n","import { Rule } from \"effector-forms\";\r\n\r\nexport const Required: Rule<string> = {\r\n  name: \"required\",\r\n  validator: (val) => Boolean(val.length),\r\n  errorText: \"–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ\",\r\n};\r\n\r\nexport const Email: Rule<string> = {\r\n  name: \"email\",\r\n  validator: (val) => /^[\\w\\_\\-]+@\\w+\\.\\w{2,}$/gi.test(val),\r\n  errorText: \"–£–∫–∞–∂–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–π –∞–¥—Ä–µ—Å\",\r\n};\r\n\r\nexport const RussianWord: Rule<string> = {\r\n  name: \"word\",\r\n  validator: (val) => /^[–∞-—è–ê-–Ø]$/gi.test(val),\r\n  errorText: \"–ü–æ–ª–µ —Å–æ—Å—Ç–æ–∏—Ç —Ç–æ–ª—å–∫–æ –∏–∑ —Ä—É—Å—Å–∫–∏—Ö –±—É–∫–≤\",\r\n};\r\n\r\nexport const Agreement: Rule<boolean> = {\r\n  name: \"agreement\",\r\n  validator: (isTruth) => Boolean(isTruth),\r\n  errorText: \"–°–æ–≥–ª–∞—Å–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ\",\r\n};\r\n","import { createStore, createEvent } from \"effector\";\r\n\r\nexport const openModal = createEvent<JSX.Element>();\r\nexport const closeModal = createEvent();\r\nexport const $modal = createStore<JSX.Element[]>([])\r\n  .on(openModal, (st, modal) => [...st, modal])\r\n  .on(closeModal, (st) => st.slice(0, st.length - 1));\r\n","import { attach, createEvent, createStore, guard } from \"effector\";\r\nimport { AuthedRequestT, changeAccessToken, request } from \"../../api/request\";\r\nimport { closeModal } from \"../modal\";\r\n\r\ninterface IUser {\r\n  email: string;\r\n  password: string;\r\n  firstName?: string;\r\n  lastName?: string;\r\n  phoneNumber?: string;\r\n  role?: \"admin\" | \"user\";\r\n  access_token?: string;\r\n}\r\n\r\ninterface IAuthParams {\r\n  email: string;\r\n  password: string;\r\n}\r\n\r\nexport const authLoginFx = attach<IAuthParams, AuthedRequestT<IUser>>({\r\n  effect: request,\r\n  mapParams: ({ email, password }) => ({\r\n    url: \"auth/login\",\r\n    method: \"POST\",\r\n    body: { email, password },\r\n  }),\r\n});\r\n\r\nexport const authRegFx = attach<IAuthParams, AuthedRequestT<IUser>>({\r\n  effect: request,\r\n  mapParams: ({ email, password }) => ({\r\n    url: \"auth/reg\",\r\n    method: \"POST\",\r\n    body: { email, password },\r\n  }),\r\n});\r\n\r\nexport const getMe = attach<void, AuthedRequestT<IUser>>({\r\n  effect: request,\r\n  mapParams: () => ({\r\n    url: \"auth/me\",\r\n    method: \"POST\",\r\n  }),\r\n});\r\n\r\ngetMe.doneData.watch((x) => {\r\n  if (x.error) {\r\n    localStorage.removeItem(\"access_token\");\r\n  }\r\n});\r\n\r\nexport const logout = createEvent();\r\nlogout.watch(() => {\r\n  changeAccessToken(\"\");\r\n  localStorage.removeItem(\"access_token\");\r\n});\r\n\r\nexport const $user = createStore<IUser>(null)\r\n  .on(authLoginFx.doneData, (st, x) => (x.result ? x.result : null))\r\n  .on(authRegFx.doneData, (st, x) => (x.result ? x.result : null))\r\n  .on(getMe.doneData, (st, x) => (x.result ? x.result : null))\r\n  .reset(logout);\r\n\r\n$user.watch((x) => {\r\n  if (x?.access_token) {\r\n    changeAccessToken(x?.access_token);\r\n    return;\r\n  }\r\n});\r\n\r\nexport const resetAuthError = createEvent<void>();\r\nexport const $authError = createStore<string>(\"\")\r\n  .on(authLoginFx.doneData, (st, x) => x.error || \"\")\r\n  .reset(resetAuthError)\r\n  .reset(logout);\r\n\r\nguard({\r\n  clock: [authLoginFx.doneData, authRegFx.doneData],\r\n  source: $user,\r\n  filter: (user) => Boolean(user),\r\n  target: closeModal,\r\n});\r\n","import { createForm } from \"effector-forms\";\r\nimport { forward } from \"effector\";\r\nimport { Required, Agreement, Email } from \"../../utils/validators\";\r\nimport { logout } from \"../user\";\r\n\r\nexport const checkoutForm = createForm({\r\n  fields: {\r\n    firstName: {\r\n      init: \"\",\r\n      rules: [Required],\r\n    },\r\n    lastName: {\r\n      init: \"\",\r\n      rules: [Required],\r\n    },\r\n    address: {\r\n      init: \"\",\r\n      rules: [Required],\r\n    },\r\n    phoneNumber: {\r\n      init: \"\",\r\n      rules: [Required],\r\n    },\r\n    email: {\r\n      init: \"\",\r\n      rules: [Required, Email],\r\n    },\r\n    agreement: {\r\n      init: false,\r\n      rules: [Agreement],\r\n    },\r\n    delivery: {\r\n      init: 0,\r\n      rules: [Required],\r\n    },\r\n  },\r\n  validateOn: [\"submit\", \"blur\"],\r\n});\r\n\r\nforward({\r\n  from: logout,\r\n  to: checkoutForm.reset,\r\n});\r\n","import styled from \"styled-components\";\r\n\r\nconst TextLink = styled.span`\r\n  color: var(--primary-color);\r\n  cursor: pointer;\r\n`;\r\nconst TextLinkBold = styled(TextLink)<{ fontSize?: string }>`\r\n  font-weight: 600;\r\n  font-size: ${({ fontSize }) => fontSize || \"initial\"};\r\n`;\r\n\r\nexport { TextLink, TextLinkBold };\r\n","import { FC, useMemo } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { formatPrice } from \"../../../../helpers/textHelper\";\r\nimport ClearButton from \"../../../../ui/ClearButton\";\r\nimport QuantityControl from \"../../../../ui/QuantityControl\";\r\nimport { SizeT } from \"../../../../store/models/ProductModel\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { general } from \"../../../../store/general\";\r\nimport Spinner from \"../../../../ui/Spinner\";\r\nimport { usePhoto } from \"../../../../hooks/usePhoto\";\r\n\r\nconst Wrapper = styled.div`\r\n  display: grid;\r\n  grid-auto-flow: column;\r\n  align-items: center;\r\n  grid-template-columns: 50% 15% 35%;\r\n  border: 1px solid #dcdcdc;\r\n  border-radius: 6px;\r\n  overflow: hidden;\r\n\r\n  &:not(:first-child) {\r\n    margin-top: 12px;\r\n  }\r\n\r\n  @media (max-width: 768px) {\r\n    grid-auto-flow: row;\r\n    grid-template-columns: 1fr;\r\n  }\r\n`;\r\nconst AvatarTitleBlock = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  @media (max-width: 768px) {\r\n    flex-direction: column;\r\n    overflow: hidden;\r\n  }\r\n`;\r\nconst Avatar = styled.img`\r\n  width: 100px;\r\n  height: 100px;\r\n  margin-right: 16px;\r\n  flex-shrink: 0;\r\n  /* border: 1px solid rgba(0, 0, 0, 0.2); */\r\n\r\n  @media (max-width: 768px) {\r\n    width: 100%;\r\n    height: 100%;\r\n    margin-right: 0;\r\n  }\r\n`;\r\nconst Title = styled.div`\r\n  font-size: 16px;\r\n  font-weight: 500;\r\n  line-height: 24px;\r\n  margin-right: 20px;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n\r\n  @media (max-width: 768px) {\r\n    white-space: normal;\r\n    margin-right: 0;\r\n  }\r\n`;\r\nconst Price = styled.div`\r\n  font-size: 16px;\r\n  font-weight: 500;\r\n  color: #000000;\r\n  flex-shrink: 0;\r\n\r\n  @media (max-width: 768px) {\r\n    margin-top: 6px;\r\n    font-size: 15px;\r\n  }\r\n`;\r\nconst PriceSmall = styled(Price)`\r\n  font-size: 14px;\r\n  font-weight: 400;\r\n  margin-top: 2px;\r\n`;\r\nconst Controls = styled.div`\r\n  margin: 0 20px;\r\n  display: flex;\r\n  align-items: center;\r\n  flex-shrink: 0;\r\n  justify-content: center;\r\n\r\n  @media (max-width: 768px) {\r\n    justify-content: space-between;\r\n    margin: 20px 0 0 0;\r\n  }\r\n`;\r\nconst ClearWrapper = styled.div`\r\n  margin-left: 36px;\r\n`;\r\nconst Size = styled.div`\r\n  font-size: 14px;\r\n  margin-top: 4px;\r\n`;\r\nconst Material = styled(Size)``;\r\nconst Info = styled.div`\r\n  width: 100%;\r\n  overflow: hidden;\r\n\r\n  @media (max-width: 768px) {\r\n    padding: 16px;\r\n  }\r\n`;\r\nconst PriceBlock = styled.div``;\r\n\r\ninterface ICartLargeProductProps {\r\n  id: number;\r\n  name: string;\r\n  price: number;\r\n  avatarPath: string;\r\n  quantity: number;\r\n  size: SizeT;\r\n  material: string;\r\n  totalPrice?: number;\r\n\r\n  onChange: (value: string) => void;\r\n  onDelete: () => void;\r\n  onIncrease: () => void;\r\n  onDecrease: () => void;\r\n}\r\n\r\nconst CartLargeProduct: FC<ICartLargeProductProps> = ({\r\n  id,\r\n  name,\r\n  price,\r\n  avatarPath,\r\n  quantity,\r\n  size,\r\n  material,\r\n  onChange,\r\n  onDelete,\r\n  onIncrease,\r\n  onDecrease,\r\n  totalPrice,\r\n}) => {\r\n  const { isMobile } = general;\r\n  const finalPhoto = usePhoto(avatarPath, id);\r\n  const formattedPrice = useMemo(() => formatPrice(String(price)), [price]);\r\n  const formattedPriceTotal = useMemo(() => formatPrice(String(totalPrice)), [\r\n    totalPrice,\r\n  ]);\r\n\r\n  return (\r\n    <Wrapper key={id}>\r\n      <AvatarTitleBlock>\r\n        <Link\r\n          style={{ position: \"relative\" }}\r\n          className=\"productPhotoRouterLink\"\r\n          to={`/product/${id}`}\r\n        >\r\n          {!finalPhoto && (\r\n            <Spinner\r\n              style={{\r\n                position: \"absolute\",\r\n                transform: \"translate(-75%, -50%)\",\r\n                top: \"50%\",\r\n                left: \"50%\",\r\n              }}\r\n            />\r\n          )}\r\n          <Avatar aria-label={\"–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è: \" + name} src={finalPhoto} />\r\n        </Link>\r\n        <Info>\r\n          <Link to={`/product/${id}`}>\r\n            <Title title={name}>{name}</Title>\r\n          </Link>\r\n          <Size>–†–∞–∑–º–µ—Ä: {size}</Size>\r\n          <Material>–ú–∞—Ç–µ—Ä–∏–∞–ª: {material}</Material>\r\n          {isMobile && (\r\n            <PriceBlock>\r\n              <Price>{formattedPrice} ‚ÇΩ</Price>\r\n              {formattedPrice !== formattedPriceTotal && (\r\n                <PriceSmall>{formattedPriceTotal} ‚ÇΩ</PriceSmall>\r\n              )}\r\n            </PriceBlock>\r\n          )}\r\n          {isMobile && (\r\n            <Controls>\r\n              <QuantityControl\r\n                width={20}\r\n                quantity={quantity}\r\n                onChange={onChange}\r\n                onDecrease={onDecrease}\r\n                onIncrease={onIncrease}\r\n              />\r\n              <ClearWrapper>\r\n                <ClearButton onClick={onDelete} />\r\n              </ClearWrapper>\r\n            </Controls>\r\n          )}\r\n        </Info>\r\n      </AvatarTitleBlock>\r\n      {!isMobile && (\r\n        <PriceBlock>\r\n          <Price>{formattedPrice} ‚ÇΩ</Price>\r\n          {formattedPrice !== formattedPriceTotal && (\r\n            <PriceSmall>{formattedPriceTotal} ‚ÇΩ</PriceSmall>\r\n          )}\r\n        </PriceBlock>\r\n      )}\r\n      {!isMobile && (\r\n        <Controls>\r\n          <QuantityControl\r\n            width={40}\r\n            quantity={quantity}\r\n            onChange={(value) => onChange(value)}\r\n            onDecrease={onDecrease}\r\n            onIncrease={onIncrease}\r\n          />\r\n          <ClearWrapper>\r\n            <ClearButton onClick={onDelete} />\r\n          </ClearWrapper>\r\n        </Controls>\r\n      )}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default CartLargeProduct;\r\n","import React, { FC, useRef } from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Wrapper = styled.div``;\r\nconst InputBase = styled.input`\r\n  font-size: 16px;\r\n  padding: 8px 12px;\r\n  border-radius: 4px;\r\n  border: 1px solid #ccc;\r\n  font-family: \"Roboto\", sans-serif;\r\n  width: 100%;\r\n\r\n  &:focus-visible {\r\n    outline: 0;\r\n    border: 1px solid var(--primary-color);\r\n  }\r\n\r\n  &:hover {\r\n    border: 1px solid var(--primary-color);\r\n  }\r\n`;\r\nconst InputDefault = styled(InputBase)<{ error?: boolean }>`\r\n  border: ${(p) => (p.error ? \"1px solid var(--danger-color)\" : \"\")};\r\n`;\r\nconst Title = styled.label`\r\n  font-size: 14px;\r\n  margin-bottom: 2px;\r\n`;\r\nconst Label = styled.div`\r\n  font-size: 13px;\r\n  color: #585858;\r\n  margin-top: 4px;\r\n`;\r\nconst ErrorLabel = styled(Label)`\r\n  color: red;\r\n`;\r\n\r\ninterface IInputProps {\r\n  title: string;\r\n\r\n  value?: string;\r\n  type?: React.HTMLInputTypeAttribute;\r\n  label?: string;\r\n  error?: string;\r\n  placeholder?: string;\r\n  onChange?: (e?: React.ChangeEvent<HTMLInputElement>) => void;\r\n  onBlur?: () => void;\r\n  onFocus?: () => void;\r\n  style?: React.CSSProperties;\r\n\r\n  internalRef?: React.Ref<HTMLInputElement>;\r\n  autoComplete?: boolean;\r\n  autoCorrect?: boolean;\r\n  spellCheck?: boolean;\r\n}\r\n\r\nconst Input: FC<IInputProps> = ({\r\n  title,\r\n  value,\r\n  onChange,\r\n  onBlur,\r\n  onFocus,\r\n  error,\r\n  placeholder,\r\n  label,\r\n  type,\r\n  style,\r\n  internalRef,\r\n  autoComplete,\r\n  autoCorrect,\r\n  spellCheck,\r\n}) => {\r\n  const input = useRef<HTMLInputElement>(null);\r\n  const hasError = error && error.length > 0;\r\n\r\n  return (\r\n    <Wrapper style={style}>\r\n      {title && <Title onClick={() => input?.current?.focus()}>{title}</Title>}\r\n      <InputDefault\r\n        error={hasError}\r\n        value={value}\r\n        onChange={onChange}\r\n        onBlur={onBlur}\r\n        onFocus={onFocus}\r\n        ref={internalRef || input}\r\n        type={type}\r\n        spellCheck={spellCheck ? \"true\" : \"false\"}\r\n        autoCorrect={autoCorrect ? \"true\" : \"false\"}\r\n        autoComplete={autoComplete ? \"true\" : \"false\"}\r\n        placeholder={placeholder}\r\n      />\r\n      {label && !error && <Label>{label}</Label>}\r\n      {error && <ErrorLabel>{error}</ErrorLabel>}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Input;\r\n","import { FC } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Button from \"../../ui/Button\";\r\nimport { closeModal } from \"../../store/modal\";\r\n\r\nconst ModalWrapper = styled.div`\r\n  width: 500px;\r\n  margin: auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n\r\n  @media (max-width: 768px) {\r\n    width: initial;\r\n    padding: 0;\r\n  }\r\n`;\r\nconst FormWrapper = styled.div`\r\n  margin: 32px 0;\r\n  width: 100%;\r\n  background-color: #fff;\r\n  border-radius: 8px;\r\n  padding: 20px 24px 20px 24px;\r\n  display: flex;\r\n  flex-flow: column;\r\n  box-shadow: 0px 0px 2px rgba(0, 0, 0, 0.25),\r\n    0px 15px 25px -11px rgba(0, 0, 0, 0.3);\r\n\r\n  @media (max-width: 768px) {\r\n    box-shadow: none;\r\n    padding: 20px 16px 64px 16px;\r\n    margin: 0;\r\n    box-shadow: none;\r\n  }\r\n`;\r\nconst ButtonBlock = styled.div`\r\n  @media (max-width: 768px) {\r\n    position: fixed;\r\n    bottom: 14px;\r\n    left: 16px;\r\n    right: 16px;\r\n  }\r\n`;\r\nconst Title = styled.h2`\r\n  font-weight: 600;\r\n  font-size: 24px;\r\n  line-height: 29px;\r\n  margin: 8px 0 12px 0;\r\n  @media (max-width: 480px) {\r\n    margin: 14px 0 16px 0;\r\n  }\r\n`;\r\nconst Text = styled.p`\r\n  font-size: 16px;\r\n  line-height: 24px;\r\n  margin: -2px 0 16px 0;\r\n  @media screen and (max-device-width: 480px) {\r\n    font-size: 14px;\r\n    line-height: 22px;\r\n    margin: 0 0 16px 0;\r\n  }\r\n`;\r\nconst BoldText = styled.div`\r\n  font-weight: 600;\r\n  font-size: 16px;\r\n  margin-bottom: 4px;\r\n`;\r\nconst List = styled.ul`\r\n  padding-left: 16px;\r\n  margin: 6px 0;\r\n`;\r\nconst ListItem = styled.li``;\r\n\r\ninterface IUserAgreementModalProps {}\r\n\r\nconst UserAgreementModal: FC<IUserAgreementModalProps> = ({}) => {\r\n  return (\r\n    <ModalWrapper onClick={(e) => e.stopPropagation()}>\r\n      <FormWrapper>\r\n        <Title>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ</Title>\r\n        <Text>\r\n          –ù–∞—Å—Ç–æ—è—â–µ–µ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ –°–æ–≥–ª–∞—à–µ–Ω–∏–µ (–î–∞–ª–µ–µ –°–æ–≥–ª–∞—à–µ–Ω–∏–µ) —Ä–µ–≥—É–ª–∏—Ä—É–µ—Ç\r\n          –æ—Ç–Ω–æ—à–µ–Ω–∏—è –º–µ–∂–¥—É –ò–ü –ê–ø–∞—Ä–∫–∏–Ω –ê—Ä—Ç—ë–º (–¥–∞–ª–µ–µ –ê–º–±–∏–¥–µ–∫—Å—Ç—Ä –∏–ª–∏ –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏—è)\r\n          —Å –æ–¥–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω—ã –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º —Å–∞–π—Ç–∞ —Å –¥—Ä—É–≥–æ–π. –°–∞–π—Ç –ê–º–±–∏–¥–µ–∫—Å—Ç—Ä –Ω–µ\r\n          —è–≤–ª—è–µ—Ç—Å—è —Å—Ä–µ–¥—Å—Ç–≤–æ–º –º–∞—Å—Å–æ–≤–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.\r\n        </Text>\r\n        <Text>\r\n          –ò—Å–ø–æ–ª—å–∑—É—è —Å–∞–π—Ç, –í—ã —Å–æ–≥–ª–∞—à–∞–µ—Ç–µ—Å—å —Å —É—Å–ª–æ–≤–∏—è–º–∏ –¥–∞–Ω–Ω–æ–≥–æ —Å–æ–≥–ª–∞—à–µ–Ω–∏—è. –ï—Å–ª–∏\r\n          –í—ã –Ω–µ —Å–æ–≥–ª–∞—Å–Ω—ã —Å —É—Å–ª–æ–≤–∏—è–º–∏ –¥–∞–Ω–Ω–æ–≥–æ —Å–æ–≥–ª–∞—à–µ–Ω–∏—è, –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∞–π—Ç\r\n          –ê–º–±–∏–¥–µ–∫—Å—Ç—Ä.\r\n        </Text>\r\n        <Text>\r\n          <BoldText>–ü—Ä–µ–¥–º–µ—Ç —Å–æ–≥–ª–∞—à–µ–Ω–∏—è</BoldText>\r\n          –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø—Ä–∞–≤–æ –Ω–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ –Ω–∞ —Å–∞–π—Ç–µ\r\n          —Å–ª–µ–¥—É—é—â–µ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏:\r\n          <List>\r\n            <ListItem>–¢–µ–∫—Å—Ç–æ–≤–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏</ListItem>\r\n            <ListItem>–§–æ—Ç–æ–º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤</ListItem>\r\n            <ListItem>\r\n              –°—Å—ã–ª–æ–∫ –Ω–∞ –º–∞—Ç–µ—Ä–∏–∞–ª—ã, —Ä–∞–∑–º–µ—â–µ–Ω–Ω—ã–µ –Ω–∞ –¥—Ä—É–≥–∏—Ö —Å–∞–π—Ç–∞—Ö\r\n            </ListItem>\r\n          </List>\r\n        </Text>\r\n        <Text>\r\n          <BoldText>–ü—Ä–∞–≤–∞ –∏ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ —Å—Ç–æ—Ä–æ–Ω</BoldText>\r\n          –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–º–µ–µ—Ç –ø—Ä–∞–≤–æ:\r\n          <List>\r\n            <ListItem>–û—Å—É—â–µ—Å—Ç–≤–ª—è—Ç—å –ø–æ–∏—Å–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –Ω–∞ —Å–∞–π—Ç–µ</ListItem>\r\n            <ListItem>–ü–æ–ª—É—á–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –Ω–∞ —Å–∞–π—Ç–µ</ListItem>\r\n            <ListItem>–°–æ–∑–¥–∞–≤–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –¥–ª—è —Å–∞–π—Ç–∞</ListItem>\r\n            <ListItem>–ö–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç, –≤—ã–ª–æ–∂–µ–Ω–Ω—ã–π –Ω–∞ —Å–∞–π—Ç–µ</ListItem>\r\n            <ListItem>\r\n              –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é —Å–∞–π—Ç–∞ –≤ –ª–∏—á–Ω—ã—Ö –Ω–µ–∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö —Ü–µ–ª—è—Ö\r\n            </ListItem>\r\n          </List>\r\n        </Text>\r\n        <Text>\r\n          –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏—è –∏–º–µ–µ—Ç –ø—Ä–∞–≤–æ:\r\n          <List>\r\n            <ListItem>\r\n              –ü–æ —Å–≤–æ–µ–º—É —É—Å–º–æ—Ç—Ä–µ–Ω–∏—é –∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å, –∏–∑–º–µ–Ω—è—Ç—å, –æ—Ç–º–µ–Ω—è—Ç—å\r\n              –ø—Ä–∞–≤–∏–ª–∞\r\n            </ListItem>\r\n            <ListItem>–û–≥—Ä–∞–Ω–∏—á–∏–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø –∫ –ª—é–±–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –Ω–∞ —Å–∞–π—Ç–µ</ListItem>\r\n            <ListItem>–°–æ–∑–¥–∞–≤–∞—Ç—å, –∏–∑–º–µ–Ω—è—Ç—å, —É–¥–∞–ª—è—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é</ListItem>\r\n            <ListItem>–£–¥–∞–ª—è—Ç—å —É—á–µ—Ç–Ω—ã–µ –∑–∞–ø–∏—Å–∏</ListItem>\r\n            <ListItem>–û—Ç–∫–∞–∑—ã–≤–∞—Ç—å –≤ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –±–µ–∑ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è –ø—Ä–∏—á–∏–Ω</ListItem>\r\n          </List>\r\n        </Text>\r\n        <Text>\r\n          –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–±—è–∑—É–µ—Ç—Å—è:\r\n          <List>\r\n            <ListItem>\r\n              –ü—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Å –¥—Ä—É–≥–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤, –≤–∫–ª—é—á–∞—Ç—å –≤ –µ—ë\r\n              —Å–æ—Å—Ç–∞–≤ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –∞–≤—Ç–æ—Ä–µ\r\n            </ListItem>\r\n            <ListItem>\r\n              –ù–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∞ –Ω–∞ –ø—Ä–æ–ø–∞–≥–∞–Ω–¥—É\r\n              –≤–æ–π–Ω—ã, —Ä–∞–∑–∂–∏–≥–∞–Ω–∏–µ –Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π, —Ä–∞—Å–æ–≤–æ–π –∏–ª–∏ —Ä–µ–ª–∏–≥–∏–æ–∑–Ω–æ–π –Ω–µ–Ω–∞–≤–∏—Å—Ç–∏\r\n              –∏ –≤—Ä–∞–∂–¥—ã, –∞ —Ç–∞–∫–∂–µ –∏–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, –∑–∞ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ—Ç–æ—Ä–æ–π\r\n              –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω–∞ —É–≥–æ–ª–æ–≤–Ω–∞—è –∏–ª–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å\r\n            </ListItem>\r\n            <ListItem>–ù–µ –Ω–∞—Ä—É—à–∞—Ç—å —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —Å–∞–π—Ç–∞</ListItem>\r\n            <ListItem>\r\n              –ù–µ —Å–æ–≤–µ—Ä—à–∞—Ç—å –¥–µ–π—Å—Ç–≤–∏—è, –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –Ω–∞ –≤–≤–µ–¥–µ–Ω–∏–µ –¥—Ä—É–≥–∏—Ö\r\n              –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ –∑–∞–±–ª—É–∂–¥–µ–Ω–∏–µ\r\n            </ListItem>\r\n            <ListItem>\r\n              –ù–µ —Ä–∞–∑–º–µ—â–∞—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª—ã —Ä–µ–∫–ª–∞–º–Ω–æ–≥–æ, —ç—Ä–æ—Ç–∏—á–µ—Å–∫–æ–≥–æ, –ø–æ—Ä–Ω–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–≥–æ\r\n              –∏–ª–∏ –æ—Å–∫–æ—Ä–±–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∞, –∞ —Ç–∞–∫–∂–µ –∏–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ\r\n              –∫–æ—Ç–æ—Ä–æ–π –∑–∞–ø—Ä–µ—â–µ–Ω–æ –∏–ª–∏ –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏—Ç –Ω–æ—Ä–º–∞–º –¥–µ–π—Å—Ç–≤—É—é—â–µ–≥–æ\r\n              –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –†–§\r\n            </ListItem>\r\n            <ListItem>\r\n              –ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∫—Ä–∏–ø—Ç—ã (–ø—Ä–æ–≥—Ä–∞–º–º—ã) –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Å–±–æ—Ä–∞\r\n              –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏/–∏–ª–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –°–∞–π—Ç–æ–º –∏ –µ–≥–æ –°–µ—Ä–≤–∏—Å–∞–º–∏\r\n            </ListItem>\r\n          </List>\r\n        </Text>\r\n        <Text>\r\n          –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—è–∑—É–µ—Ç—Å—è:\r\n          <List>\r\n            <ListItem>\r\n              –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —Å–∞–π—Ç–∞ –∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º —Å–ª—É—á–∞–µ–≤, –∫–æ–≥–¥–∞\r\n              —ç—Ç–æ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø–æ –Ω–µ–∑–∞–≤–∏—Å—è—â–∏–º –æ—Ç –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø—Ä–∏—á–∏–Ω–∞–º\r\n            </ListItem>\r\n            <ListItem>\r\n              –û—Å—É—â–µ—Å—Ç–≤–ª—è—Ç—å —Ä–∞–∑–Ω–æ—Å—Ç–æ—Ä–æ–Ω–Ω—é—é –∑–∞—â–∏—Ç—É —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\r\n            </ListItem>\r\n            <ListItem>\r\n              –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –≤—Å—é –¥–æ—Å—Ç—É–ø–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ\r\n              —É–ø–æ–ª–Ω–æ–º–æ—á–µ–Ω–Ω—ã–º –Ω–∞ —Ç–æ –æ—Ä–≥–∞–Ω–∞–º –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–π –≤–ª–∞—Å—Ç–∏ –≤ —Å–ª—É—á–∞—è—Ö,\r\n              —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –∑–∞–∫–æ–Ω–æ–º\r\n            </ListItem>\r\n          </List>\r\n        </Text>\r\n        <Text>\r\n          <BoldText>–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å —Å—Ç–æ—Ä–æ–Ω</BoldText>\r\n          <List>\r\n            <ListItem>\r\n              –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–µ –Ω–µ—Å–µ—Ç –Ω–∏–∫–∞–∫–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞ –¥–æ—Å—Ç–æ–≤–µ—Ä–Ω–æ—Å—Ç—å\r\n              –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∏–∑ –¥—Ä—É–≥–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤\r\n            </ListItem>\r\n            <ListItem>\r\n              –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–µ –Ω–µ—Å–µ—Ç –Ω–∏–∫–∞–∫–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞ —É—Å–ª—É–≥–∏,\r\n              –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º—ã–µ —Ç—Ä–µ—Ç—å–∏–º–∏ –ª–∏—Ü–∞–º–∏\r\n            </ListItem>\r\n            <ListItem>\r\n              –í —Å–ª—É—á–∞–µ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è —Ñ–æ—Ä—Å-–º–∞–∂–æ—Ä–Ω–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏ (–±–æ–µ–≤—ã–µ –¥–µ–π—Å—Ç–≤–∏—è,\r\n              —á—Ä–µ–∑–≤—ã—á–∞–π–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ, —Å—Ç–∏—Ö–∏–π–Ω–æ–µ –±–µ–¥—Å—Ç–≤–∏–µ –∏ —Ç. –¥.) –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏—è\r\n              –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —Å–æ—Ö—Ä–∞–Ω–Ω–æ—Å—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, —Ä–∞–∑–º–µ—â—ë–Ω–Ω–æ–π –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º,\r\n              –∞ —Ç–∞–∫–∂–µ –±–µ—Å–ø–µ—Ä–µ–±–æ–π–Ω—É—é —Ä–∞–±–æ—Ç—É –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ä–µ—Å—É—Ä—Å–∞\r\n            </ListItem>\r\n          </List>\r\n        </Text>\r\n        <Text>\r\n          <BoldText>–£—Å–ª–æ–≤–∏—è –¥–µ–π—Å—Ç–≤–∏—è –°–æ–≥–ª–∞—à–µ–Ω–∏—è</BoldText>\r\n          –î–∞–Ω–Ω–æ–µ –°–æ–≥–ª–∞—à–µ–Ω–∏–µ –≤—Å—Ç—É–ø–∞–µ—Ç –≤ —Å–∏–ª—É –ø—Ä–∏ –ª—é–±–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –¥–∞–Ω–Ω–æ–≥–æ\r\n          —Å–∞–π—Ç–∞. –°–æ–≥–ª–∞—à–µ–Ω–∏–µ –ø–µ—Ä–µ—Å—Ç–∞–µ—Ç –¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ –µ–≥–æ –Ω–æ–≤–æ–π\r\n          –≤–µ—Ä—Å–∏–∏. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏—è –æ—Å—Ç–∞–≤–ª—è–µ—Ç –∑–∞ —Å–æ–±–æ–π –ø—Ä–∞–≤–æ –≤ –æ–¥–Ω–æ—Å—Ç–æ—Ä–æ–Ω–Ω–µ–º –ø–æ—Ä—è–¥–∫–µ\r\n          –∏–∑–º–µ–Ω—è—Ç—å –¥–∞–Ω–Ω–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ –ø–æ —Å–≤–æ–µ–º—É —É—Å–º–æ—Ç—Ä–µ–Ω–∏—é. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–µ\r\n          –æ–ø–æ–≤–µ—â–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –≤ –°–æ–≥–ª–∞—à–µ–Ω–∏–∏.\r\n        </Text>\r\n        <ButtonBlock>\r\n          <Button fixed={true} onClick={closeModal}>\r\n            –ó–∞–∫—Ä—ã—Ç—å\r\n          </Button>\r\n        </ButtonBlock>\r\n      </FormWrapper>\r\n    </ModalWrapper>\r\n  );\r\n};\r\n\r\nexport default UserAgreementModal;\r\n","import { FC } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Button from \"../../ui/Button\";\r\nimport { logout } from \"../../store/user\";\r\nimport { closeModal } from \"../../store/modal\";\r\n\r\nconst ModalWrapper = styled.div`\r\n  width: 600px;\r\n  margin: auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n\r\n  @media (max-width: 768px) {\r\n    padding: 0;\r\n    position: absolute;\r\n    bottom: 0;\r\n    margin: 0;\r\n    width: 100%;\r\n  }\r\n`;\r\nconst FormWrapper = styled.div`\r\n  margin: 0 0;\r\n  width: 100%;\r\n  background-color: #fff;\r\n  border-radius: 8px;\r\n  padding: 14px 24px 8px 24px;\r\n  display: flex;\r\n  flex-flow: column;\r\n  box-shadow: 0px 0px 2px rgba(0, 0, 0, 0.25),\r\n    0px 15px 25px -11px rgba(0, 0, 0, 0.3);\r\n\r\n  @media screen and (max-device-width: 425px) {\r\n    box-shadow: none;\r\n    padding: 20px 16px;\r\n    border-bottom-left-radius: 0;\r\n    border-bottom-right-radius: 0;\r\n  }\r\n  @media screen and (min-device-width: 425px) and (max-device-width: 768px) {\r\n    box-shadow: none;\r\n  }\r\n`;\r\nconst Title = styled.h2`\r\n  font-weight: 600;\r\n  font-size: 20px;\r\n  line-height: 29px;\r\n  margin: 8px 0;\r\n  @media (max-width: 480px) {\r\n    font-size: 24px;\r\n    /* margin: 14px 0 16px 0; */\r\n    line-height: 32px;\r\n  }\r\n`;\r\nconst Text = styled.p`\r\n  font-size: 13px;\r\n  text-align: left;\r\n  line-height: 20px;\r\n  margin: -2px 0 8px 0;\r\n  width: 90%;\r\n  @media screen and (max-device-width: 480px) {\r\n    font-size: 14px;\r\n    width: 90%;\r\n    line-height: 22px;\r\n    margin: 0 0 12px 0;\r\n  }\r\n`;\r\nconst InputsBlock = styled.div`\r\n  margin: 12px 0;\r\n  width: 100%;\r\n\r\n  @media screen and (max-device-width: 768px) {\r\n    margin: 12px 0 0 0;\r\n  }\r\n`;\r\nconst MarginTop16 = styled.div`\r\n  &:not(:first-child) {\r\n    margin-top: 24px;\r\n  }\r\n`;\r\nconst ButtonsBlock = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  width: 100%;\r\n  justify-content: flex-end;\r\n`;\r\nconst ButtonWrapper = styled.div`\r\n  margin-right: 8px;\r\n`;\r\n\r\nconst ExitConfirmationModal: FC = () => {\r\n  return (\r\n    <ModalWrapper onClick={(e) => e.stopPropagation()}>\r\n      <FormWrapper>\r\n        <Title>–í—ã–π—Ç–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞</Title>\r\n        <Text>\r\n          –í—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Ö–æ—Ç–∏—Ç–µ –≤—ã–π—Ç–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞? –í–∞—à–∏ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç\r\n          –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã, –ø–æ–∫–∞ –≤—ã –Ω–µ –≤–æ–π–¥–µ—Ç–µ —Å–Ω–æ–≤–∞\r\n        </Text>\r\n\r\n        <InputsBlock>\r\n          <MarginTop16>\r\n            <ButtonsBlock>\r\n              <ButtonWrapper>\r\n                <Button onClick={closeModal} variant=\"secondary\">\r\n                  –û—Ç–º–µ–Ω–∞\r\n                </Button>\r\n              </ButtonWrapper>\r\n              <Button\r\n                onClick={() => {\r\n                  logout();\r\n                  closeModal();\r\n                }}\r\n              >\r\n                –í—ã–π—Ç–∏\r\n              </Button>\r\n            </ButtonsBlock>\r\n          </MarginTop16>\r\n        </InputsBlock>\r\n      </FormWrapper>\r\n    </ModalWrapper>\r\n  );\r\n};\r\n\r\nexport default ExitConfirmationModal;\r\n","import { guard, sample, combine, forward } from \"effector\";\r\nimport { createForm } from \"effector-forms\";\r\nimport { AuthT } from \"../../modals/AuthModal/logic\";\r\nimport { Email, Required } from \"../../utils/validators\";\r\nimport { checkoutForm } from \"../cart/checkout\";\r\nimport { authLoginFx, authRegFx, getMe, logout } from \"./index\";\r\n\r\nexport const authForm = createForm({\r\n  fields: {\r\n    authType: {\r\n      init: \"\" as AuthT,\r\n      rules: [],\r\n    },\r\n    firstName: {\r\n      init: \"\",\r\n      rules: [],\r\n    },\r\n    lastName: {\r\n      init: \"\",\r\n      rules: [],\r\n    },\r\n    email: {\r\n      init: \"\",\r\n      rules: [Required, Email],\r\n    },\r\n    password: {\r\n      init: \"\",\r\n      rules: [Required],\r\n    },\r\n  },\r\n  validateOn: [\"submit\", \"blur\"],\r\n});\r\n\r\nguard({\r\n  clock: authForm.submit,\r\n  source: authForm.$values,\r\n  filter: combine(\r\n    authForm.$values,\r\n    authForm.$isValid,\r\n    ({ authType }, isValid) => authType === \"authorization\" && isValid\r\n  ),\r\n  target: authLoginFx,\r\n});\r\n\r\nguard({\r\n  clock: authForm.submit,\r\n  source: authForm.$values,\r\n  filter: combine(\r\n    authForm.$values,\r\n    authForm.$isValid,\r\n    ({ authType }, isValid) => authType === \"registration\" && isValid\r\n  ),\r\n  target: authRegFx,\r\n});\r\n\r\nsample({\r\n  clock: [authLoginFx.doneData, authRegFx.doneData, getMe.doneData],\r\n  fn: ({ result }) => Boolean(result) && result,\r\n  target: [authForm.setForm, checkoutForm.setForm],\r\n});\r\n\r\nforward({\r\n  from: logout,\r\n  to: authForm.reset,\r\n});\r\n","export type AuthT = \"authorization\" | \"registration\";\r\n\r\nexport const authTypedContent = new Map<AuthT, any>([\r\n  [\r\n    \"authorization\",\r\n    {\r\n      title: \"–í–æ–π—Ç–∏\",\r\n      text:\r\n        \"–í–æ–π–¥–∏—Ç–µ –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç, —á—Ç–æ–±—ã –≤–∏–¥–µ—Ç—å —Å—Ç–∞—Ç—É—Å –¥–æ—Å—Ç–∞–≤–∫–∏ –∏ –∏—Å—Ç–æ—Ä–∏—é –ø–æ–∫—É–ø–æ–∫\",\r\n      buttonText: \"–í–æ–π—Ç–∏\",\r\n      agreement: false,\r\n    },\r\n  ],\r\n  [\r\n    \"registration\",\r\n    {\r\n      title: \"–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è\",\r\n      text:\r\n        \"–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å, —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –∏—Å—Ç–æ—Ä–∏—é –ø–æ–∫—É–ø–æ–∫ –∏ –¥–æ–±–∞–≤–ª—è—Ç—å –ø–æ–Ω—Ä–∞–≤–∏–≤—à–∏–µ—Å—è —Ç–æ–≤–∞—Ä—ã –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ\",\r\n      buttonText: \"–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è\",\r\n      agreement: true,\r\n    },\r\n  ],\r\n]);\r\n","import { FC, useEffect, useState } from \"react\";\r\nimport { useForm } from \"effector-forms\";\r\nimport { useStore } from \"effector-react\";\r\nimport styled from \"styled-components\";\r\nimport Input from \"../../ui/Input\";\r\nimport Button from \"../../ui/Button\";\r\nimport { authForm } from \"../../store/user/authForm\";\r\nimport { authTypedContent, AuthT } from \"./logic\";\r\nimport {\r\n  $authError,\r\n  authLoginFx,\r\n  authRegFx,\r\n  resetAuthError,\r\n} from \"../../store/user\";\r\nimport { TextLink } from \"../../ui/TextLink\";\r\nimport UserAgreementModal from \"../UserAgreementModal\";\r\nimport { openModal } from \"../../store/modal\";\r\n\r\nconst ModalWrapper = styled.div`\r\n  width: 400px;\r\n  margin: auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n\r\n  @media (max-width: 768px) {\r\n    padding: 0;\r\n    position: absolute;\r\n    bottom: 0;\r\n    margin: 0;\r\n    width: 100%;\r\n  }\r\n\r\n  /* @media screen and (max-device-width: 425px) {\r\n    margin: 0;\r\n    width: initial;\r\n    padding: 0 0 12px 0;\r\n  }\r\n\r\n  @media screen and (min-device-width: 426px) and (max-device-width: 768px) {\r\n    margin: 12px auto 0 auto;\r\n    padding: 0 0 12px 0;\r\n  } */\r\n`;\r\nconst FormWrapper = styled.div`\r\n  margin: 0 0;\r\n  width: 100%;\r\n  background-color: #fff;\r\n  border-radius: 8px;\r\n  padding: 20px 24px 12px 24px;\r\n  display: flex;\r\n  align-items: center;\r\n  flex-flow: column;\r\n  box-shadow: 0px 0px 2px rgba(0, 0, 0, 0.25),\r\n    0px 15px 25px -11px rgba(0, 0, 0, 0.3);\r\n\r\n  @media screen and (max-device-width: 425px) {\r\n    box-shadow: none;\r\n    padding: 20px 16px;\r\n    border-bottom-left-radius: 0;\r\n    border-bottom-right-radius: 0;\r\n  }\r\n  @media screen and (min-device-width: 425px) and (max-device-width: 768px) {\r\n    box-shadow: none;\r\n  }\r\n`;\r\nconst Title = styled.h2`\r\n  font-weight: 600;\r\n  font-size: 24px;\r\n  line-height: 29px;\r\n  margin: 8px 0;\r\n  text-align: center;\r\n  @media (max-width: 480px) {\r\n    font-size: 28px;\r\n    margin: 14px 0 16px 0;\r\n    line-height: 32px;\r\n  }\r\n`;\r\nconst Text = styled.p`\r\n  font-size: 13px;\r\n  text-align: center;\r\n  line-height: 20px;\r\n  margin: -2px 0 8px 0;\r\n  width: 90%;\r\n  @media screen and (max-device-width: 480px) {\r\n    font-size: 14px;\r\n    width: 90%;\r\n    line-height: 22px;\r\n    margin: 0 0 12px 0;\r\n  }\r\n`;\r\nconst InputsBlock = styled.div`\r\n  margin: 12px 0;\r\n  width: 100%;\r\n\r\n  @media screen and (max-device-width: 768px) {\r\n    margin: 12px 0 0 0;\r\n  }\r\n`;\r\nconst MarginTop12 = styled.div`\r\n  &:not(:first-child) {\r\n    margin-top: 12px;\r\n  }\r\n`;\r\nconst MarginTop16 = styled.div`\r\n  &:not(:first-child) {\r\n    margin-top: 24px;\r\n  }\r\n`;\r\nconst Agreement = styled(Text)`\r\n  width: 80%;\r\n  text-align: center;\r\n  opacity: 0.7;\r\n  margin: 0 auto;\r\n`;\r\nconst Error = styled(Text)`\r\n  color: #fff;\r\n  background-color: #ff5b5b;\r\n  padding: 6px;\r\n  border-radius: 4px;\r\n  width: 100%;\r\n  margin: 5px 0 0 0;\r\n`;\r\n\r\ninterface IAuthModalProps {\r\n  type: AuthT;\r\n}\r\n\r\nconst AuthModal: FC<IAuthModalProps> = ({ type }) => {\r\n  const [myType, setMyType] = useState<AuthT>(type);\r\n\r\n  const authError = useStore($authError);\r\n  const isLoginLoading = useStore(authLoginFx.pending);\r\n  const isRegLoading = useStore(authRegFx.pending);\r\n  const { fields, values, submit, reset } = useForm(authForm);\r\n  const { title, text, buttonText, agreement } = authTypedContent.get(myType);\r\n\r\n  useEffect(() => {\r\n    setMyType(type);\r\n    fields.authType.set(type);\r\n  }, [type]);\r\n\r\n  useEffect(() => {\r\n    reset();\r\n    resetAuthError();\r\n    fields.authType.set(myType);\r\n  }, [myType]);\r\n\r\n  useEffect(() => {\r\n    const onEnterKey = (e: React.KeyboardEvent) => {\r\n      if (e.key === \"Enter\") {\r\n        submit();\r\n      }\r\n    };\r\n\r\n    //@ts-ignore\r\n    document.addEventListener(\"keydown\", onEnterKey);\r\n    return () => {\r\n      //@ts-ignore\r\n      document.removeEventListener(\"keydown\", onEnterKey);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <ModalWrapper onClick={(e) => e.stopPropagation()}>\r\n      <FormWrapper>\r\n        <Title>{title}</Title>\r\n        <Text>{text}</Text>\r\n\r\n        {authError && <Error>{authError}</Error>}\r\n\r\n        <InputsBlock>\r\n          <MarginTop12>\r\n            <Input\r\n              onChange={(e) => fields.email.onChange(e.target.value)}\r\n              onBlur={() => fields.email.onBlur()}\r\n              autoComplete={true}\r\n              value={values.email}\r\n              error={fields.email.firstError?.errorText}\r\n              placeholder=\"some@some.com\"\r\n              type=\"email\"\r\n              title=\"–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–π –∞–¥—Ä–µ—Å\"\r\n            />\r\n          </MarginTop12>\r\n          <MarginTop12>\r\n            <Input\r\n              onChange={(e) => fields.password.onChange(e.target.value)}\r\n              onBlur={() => fields.password.onBlur()}\r\n              value={values.password}\r\n              error={fields.password.firstError?.errorText}\r\n              placeholder=\"*******\"\r\n              title=\"–ü–∞—Ä–æ–ª—å\"\r\n              type=\"password\"\r\n            />\r\n          </MarginTop12>\r\n\r\n          <MarginTop16>\r\n            <Button\r\n              disabled={isLoginLoading || isRegLoading}\r\n              onClick={submit}\r\n              fixed={true}\r\n            >\r\n              {buttonText}\r\n            </Button>\r\n            <MarginTop12>\r\n              <Button\r\n                onClick={() => {\r\n                  setMyType(\r\n                    myType === \"authorization\"\r\n                      ? \"registration\"\r\n                      : \"authorization\"\r\n                  );\r\n                }}\r\n                variant=\"secondary\"\r\n                fixed={true}\r\n              >\r\n                {myType === \"authorization\" ? \"–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è\" : \"–í–æ–π—Ç–∏\"}\r\n              </Button>\r\n            </MarginTop12>\r\n          </MarginTop16>\r\n          {agreement && (\r\n            <MarginTop12>\r\n              <Agreement>\r\n                –ù–∞–∂–∏–º–∞—è –∫–Ω–æ–ø–∫—É \"–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è\", —è —Å–æ–≥–ª–∞—à–∞—é—Å—å —Å –ü—Ä–∞–≤–∏–ª–∞–º–∏\r\n                –º–∞–≥–∞–∑–∏–Ω–∞ –∏{\" \"}\r\n                <TextLink onClick={() => openModal(<UserAgreementModal />)}>\r\n                  –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ–º\r\n                </TextLink>\r\n              </Agreement>\r\n            </MarginTop12>\r\n          )}\r\n        </InputsBlock>\r\n      </FormWrapper>\r\n    </ModalWrapper>\r\n  );\r\n};\r\n\r\nexport default AuthModal;\r\n","export default __webpack_public_path__ + \"static/media/done_primary_24dp.3fe409ed.svg\";","import { attach, createEffect, createEvent } from \"effector\";\r\nimport { createStore } from \"effector-logger\";\r\nimport { AuthedRequestT, request } from \"./request\";\r\n\r\ninterface ISuggest {\r\n  value: string;\r\n}\r\n\r\nexport const fetchAddressFx = createEffect<string, { suggestions: ISuggest[] }>(\r\n  async (query) => {\r\n    let result = await fetch(\r\n      \"https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address\",\r\n      {\r\n        method: \"POST\",\r\n        mode: \"cors\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Accept: \"application/json\",\r\n          Authorization: \"Token 62b184d769eeeff9363198895b2773c16a1425e2\",\r\n        },\r\n        body: JSON.stringify({ query, count: 5 }),\r\n      }\r\n    );\r\n\r\n    result = await result.json();\r\n\r\n    //   @ts-ignore\r\n    return result as any;\r\n  }\r\n);\r\n\r\nexport const $suggests = createStore<string[]>([]).on(\r\n  fetchAddressFx.doneData,\r\n  (st, x) => x.suggestions.map((x) => x.value)\r\n);\r\n\r\nexport const clearSearch = createEvent();\r\nexport const changeAddress = createEvent<string>();\r\n\r\nexport const changeSuggestion = createEvent<boolean>();\r\nexport const $suggestionOpen = createStore(true).on(\r\n  changeSuggestion,\r\n  (_, open) => (_ !== open ? open : _)\r\n);\r\n","import { FC, useRef, useState, useEffect, Ref } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport useClickOutside from \"../../../hooks/useClickOutside\";\r\nimport {\r\n  $suggestionOpen,\r\n  changeSuggestion,\r\n  fetchAddressFx,\r\n} from \"../../../api/address\";\r\nimport { useStore } from \"effector-react/effector-react.cjs\";\r\nimport Spinner from \"../../../ui/Spinner\";\r\nimport { markSearchedWords } from \"../../../helpers/JSXHelper\";\r\n\r\nconst SuggestionWrapper = styled.ul`\r\n  list-style: none;\r\n  margin: 0;\r\n  padding: 0;\r\n  position: absolute;\r\n  width: 100%;\r\n  top: 75px;\r\n  background: #fff;\r\n  border-radius: 4px;\r\n  padding: 4px 0px;\r\n  z-index: 1000;\r\n  box-shadow: 0 12px 24px -7px rgb(0 0 0 / 16%), 0 0px 2px rgb(0 0 0 / 20%);\r\n\r\n  @media (max-width: 768px) {\r\n    top: 72px;\r\n  }\r\n`;\r\nconst Suggest = styled.li<{ active?: boolean }>`\r\n  font-size: 16px;\r\n  width: 100%;\r\n  display: flex;\r\n  text-decoration: none;\r\n  color: #000;\r\n  padding: 10px 20px;\r\n  cursor: pointer;\r\n\r\n  background: ${({ active }) => (active ? \"#f1f1f1\" : \"initial\")};\r\n\r\n  &:hover {\r\n    background-color: #f1f1f1;\r\n  }\r\n`;\r\nconst EmptyStroke = styled.div`\r\n  font-size: 16px;\r\n  width: 100%;\r\n  text-decoration: none;\r\n  color: #000;\r\n  padding: 6px 20px;\r\n`;\r\n\r\ninterface ISuggestionProps {\r\n  suggests: string[];\r\n  onClick: (value: string) => void;\r\n  query?: string;\r\n  addressInputRef?: Ref<HTMLInputElement>;\r\n}\r\n\r\nconst Suggestion: FC<ISuggestionProps> = ({\r\n  suggests,\r\n  onClick,\r\n  query,\r\n  addressInputRef,\r\n}) => {\r\n  const myRef = useRef<HTMLUListElement>();\r\n  useClickOutside([myRef, addressInputRef as any], () =>\r\n    changeSuggestion(false)\r\n  );\r\n\r\n  const [active, setActive] = useState<number>(0);\r\n  const suggestionOpen = useStore($suggestionOpen);\r\n  const loading = useStore(fetchAddressFx.pending);\r\n\r\n  useEffect(() => {\r\n    const handler = (event: React.KeyboardEvent) => {\r\n      if (!event.key) {\r\n        return;\r\n      }\r\n\r\n      const key = event.key;\r\n      switch (key) {\r\n        case \"Escape\": {\r\n          event.preventDefault();\r\n          changeSuggestion(false);\r\n          return;\r\n        }\r\n        case \"Enter\": {\r\n          event.preventDefault();\r\n          onClick(suggests[active]);\r\n          changeSuggestion(false);\r\n          return;\r\n        }\r\n        case \"Tab\":\r\n        case \"ArrowDown\": {\r\n          event.preventDefault();\r\n          if (active === suggests.length - 1) {\r\n            setActive(0);\r\n            return;\r\n          }\r\n\r\n          setActive((active) => active + 1);\r\n          return;\r\n        }\r\n        case \"ArrowUp\": {\r\n          event.preventDefault();\r\n          if (active === 0) {\r\n            setActive(suggests.length);\r\n            return;\r\n          }\r\n\r\n          setActive((active) => active - 1);\r\n          return;\r\n        }\r\n        default:\r\n          return;\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"keydown\", handler as any);\r\n    return () => document.removeEventListener(\"keydown\", handler as any);\r\n  }, [active, suggests.length]);\r\n\r\n  useEffect(() => {\r\n    if (suggests.length && !suggestionOpen) changeSuggestion(true);\r\n  }, [suggests, suggestionOpen]);\r\n\r\n  if (suggests.length === 0 && !loading) {\r\n    return (\r\n      <SuggestionWrapper ref={myRef}>\r\n        <EmptyStroke>–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ</EmptyStroke>\r\n      </SuggestionWrapper>\r\n    );\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <SuggestionWrapper ref={myRef}>\r\n        <Spinner margin=\"10px 0\" />\r\n      </SuggestionWrapper>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <SuggestionWrapper ref={myRef}>\r\n      {}\r\n      {suggests.map((suggest, index) => {\r\n        const formatted = markSearchedWords(query, suggest);\r\n\r\n        return (\r\n          <Suggest\r\n            active={index === active}\r\n            onClick={() => {\r\n              onClick(suggest);\r\n              changeSuggestion(false);\r\n            }}\r\n            dangerouslySetInnerHTML={{\r\n              __html: `<span>${formatted.join(\" \")}</span>`,\r\n            }}\r\n          />\r\n        );\r\n      })}\r\n    </SuggestionWrapper>\r\n  );\r\n};\r\n\r\nexport default Suggestion;\r\n","export const markSearchedWords = (query: string, suggest: string): string[] => {\r\n  const queryWords = query\r\n    .trim()\r\n    .split(\" \")\r\n    .map((x) => (x[x.length - 1] === \",\" ? x.slice(0, x.length - 1) : x));\r\n  const suggestWords = suggest\r\n    .trim()\r\n    .split(\" \")\r\n    .map((x) => (x[x.length - 1] === \",\" ? x.slice(0, x.length - 1) : x));\r\n\r\n  let result: string[] = [];\r\n\r\n  for (let i = 0; i < suggestWords.length; i++) {\r\n    const suggest = suggestWords[i];\r\n    for (let j = 0; j < queryWords.length; j++) {\r\n      const query = queryWords[j];\r\n      if (suggest.search(new RegExp(query, \"gi\")) !== -1) {\r\n        result.push(`<b>${suggest}</b>`);\r\n      }\r\n    }\r\n\r\n    if (result.join(\"\").search(new RegExp(suggest, \"gi\")) === -1) {\r\n      result.push(suggest);\r\n    }\r\n  }\r\n\r\n  return result;\r\n};\r\n","import { FC, useCallback, useRef } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { useStore } from \"effector-react\";\r\nimport Input from \"../../ui/Input\";\r\nimport debounce from \"lodash.debounce\";\r\nimport {\r\n  fetchAddressFx,\r\n  $suggestionOpen,\r\n  $suggests,\r\n  changeSuggestion,\r\n} from \"../../api/address\";\r\nimport Suggestion from \"./Suggestion\";\r\n\r\nconst Wrapper = styled.div`\r\n  position: relative;\r\n`;\r\n\r\ninterface IAddressProps {\r\n  onChange: (value: string) => void;\r\n  value?: string;\r\n  internalRef?: React.Ref<HTMLInputElement>;\r\n  error?: string;\r\n}\r\nconst Address: FC<IAddressProps> = ({\r\n  internalRef,\r\n  value,\r\n  onChange,\r\n  error,\r\n}) => {\r\n  const suggests = useStore($suggests);\r\n  const suggestionVisible = useStore($suggestionOpen);\r\n\r\n  const delayedFetchAddress = useCallback(\r\n    debounce(\r\n      (query: string) => {\r\n        if (!suggestionVisible) {\r\n          changeSuggestion(true);\r\n        }\r\n        fetchAddressFx(query);\r\n      },\r\n      300,\r\n      {\r\n        trailing: true,\r\n        leading: false,\r\n      }\r\n    ),\r\n    []\r\n  );\r\n\r\n  return (\r\n    <Wrapper>\r\n      {suggestionVisible && value.length > 0 && (\r\n        <Suggestion\r\n          addressInputRef={internalRef}\r\n          query={value}\r\n          suggests={suggests}\r\n          onClick={(value) => onChange(value)}\r\n        />\r\n      )}\r\n      <Input\r\n        onFocus={() => {\r\n          if (suggests.length > 0 && !suggestionVisible) {\r\n            changeSuggestion(true);\r\n          }\r\n        }}\r\n        style={{ marginTop: \"14px\" }}\r\n        internalRef={internalRef}\r\n        onChange={(e) => {\r\n          onChange(e.target.value);\r\n          delayedFetchAddress(e.target.value);\r\n        }}\r\n        error={error}\r\n        value={value}\r\n        title=\"–ê–¥—Ä–µ—Å *\"\r\n        placeholder=\"3-—è —É–ª–∏—Ü–∞ –°—Ç—Ä–æ–∏—Ç–µ–ª–µ–π, –¥–æ–º 25\"\r\n      />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Address;\r\n","import { FC, Ref } from \"react\";\r\nimport { useForm } from \"effector-forms\";\r\nimport { useStore } from \"effector-react\";\r\nimport styled from \"styled-components\";\r\nimport Input from \"../../../../ui/Input\";\r\nimport { phoneFormat } from \"../../../../helpers/textHelper\";\r\n// import Checkbox from \"../../../../ui/Checkbox\";\r\nimport { checkoutForm } from \"../../../../store/cart/checkout\";\r\nimport Button from \"../../../../ui/Button\";\r\nimport { $user, logout } from \"../../../../store/user\";\r\nimport { TextLink, TextLinkBold } from \"../../../../ui/TextLink\";\r\nimport { general } from \"../../../../store/general\";\r\nimport { openModal } from \"../../../../store/modal\";\r\nimport UserAgreementModal from \"../../../../modals/UserAgreementModal\";\r\nimport ExitConfirmationModal from \"../../../../modals/ExitConfirmationModal\";\r\nimport AuthModal from \"../../../../modals/AuthModal\";\r\nimport DoneIcon from \"../../../../images/icons/done_primary_24dp.svg\";\r\nimport Address from \"../../../../features/Address\";\r\n\r\nconst Wrapper = styled.div`\r\n  margin-top: 32px;\r\n  padding: 24px;\r\n  background: #ffffff;\r\n  box-shadow: 0px 0px 2px rgba(0, 0, 0, 0.16),\r\n    0px 19px 24px -12px rgba(0, 0, 0, 0.21);\r\n  border-radius: 6px;\r\n  height: fit-content;\r\n\r\n  @media (max-width: 768px) {\r\n    padding: 22px 16px 28px 16px;\r\n    border-radius: 0;\r\n    margin: 12px -15px;\r\n    box-shadow: none;\r\n    border: 3px solid #e3e3e3;\r\n  }\r\n`;\r\nconst CommonGrid = styled.div`\r\n  display: grid;\r\n  grid-auto-flow: row;\r\n  grid-row-gap: 24px;\r\n  margin-top: 24px;\r\n\r\n  @media (max-width: 768px) {\r\n    margin-top: 18px;\r\n  }\r\n`;\r\nconst Title = styled.h3`\r\n  font-size: 20px;\r\n  font-weight: bold;\r\n  margin: 0;\r\n  line-height: auto;\r\n\r\n  @media (max-width: 768px) {\r\n    font-size: 24px;\r\n  }\r\n  /* color: #000; */\r\n`;\r\nconst Inputs = styled.div`\r\n  display: grid;\r\n  grid-column-gap: 16px;\r\n  grid-row-gap: 14px;\r\n  grid-template-columns: 1fr 1fr;\r\n\r\n  @media (max-width: 768px) {\r\n    grid-template-columns: 1fr;\r\n    grid-row-gap: 14px;\r\n  }\r\n`;\r\nconst Label = styled.div`\r\n  font-size: 14px;\r\n  margin-top: 7px;\r\n`;\r\nconst ButtonBlock = styled.div`\r\n  margin-top: 10px;\r\n`;\r\nconst Agreement = styled.div`\r\n  font-size: 13px;\r\n  color: #585858;\r\n  margin-top: 12px;\r\n  text-align: center; ;\r\n`;\r\n\r\nconst RadioGroup = styled.div`\r\n  display: grid;\r\n  grid-column-gap: 16px;\r\n  grid-auto-flow: column;\r\n  grid-auto-columns: 1fr 1fr;\r\n\r\n  @media (max-width: 768px) {\r\n    grid-column-gap: 8px;\r\n  }\r\n`;\r\nconst HiddenRadio = styled.input`\r\n  display: none;\r\n`;\r\nconst RadioHead = styled.div`\r\n  margin-bottom: 6px;\r\n`;\r\nconst RadioButton = styled.label`\r\n  border: 1px solid #cccccc;\r\n  border-radius: 5px;\r\n  text-align: center;\r\n  padding: 8px 0;\r\n  font-size: 16px;\r\n  cursor: pointer;\r\n  position: relative;\r\n  user-select: none;\r\n\r\n  transition: transform 0.1s ease;\r\n\r\n  &:active {\r\n    transform: scale(0.98);\r\n  }\r\n\r\n  &[data-active=\"true\"] {\r\n    color: var(--primary-color);\r\n    border: 2px solid var(--primary-color);\r\n    font-weight: 500;\r\n    /* &:before {\r\n      content: \"\";\r\n      display: inline-block;\r\n      position: absolute;\r\n      transform: translateX(-30px);\r\n      width: 24px;\r\n      height: 24px;\r\n      background: url(${DoneIcon}) no-repeat center;\r\n    } */\r\n  }\r\n\r\n  @media (max-width: 768px) {\r\n    &:before {\r\n      display: none !important;\r\n    }\r\n  }\r\n`;\r\nconst RadioWrapper = styled.div`\r\n  margin-bottom: 10px;\r\n  font-size: 16px;\r\n`;\r\nconst InputLabel = styled.div`\r\n  font-size: 13px;\r\n  color: #585858;\r\n  margin-top: 6px;\r\n`;\r\nconst Flex = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n\r\n  @media (max-width: 768px) {\r\n    flex-direction: column;\r\n  }\r\n`;\r\nconst TitleBlock = styled.div``;\r\nconst LoginButton = styled.div`\r\n  @media (max-width: 768px) {\r\n    margin-top: 12px;\r\n    border: 1px solid var(--primary-color);\r\n    text-align: center;\r\n    padding: 6px 0;\r\n    border-radius: 4px;\r\n  }\r\n`;\r\n\r\ninterface IFormProps {\r\n  formWrapperRef: Ref<HTMLDivElement>;\r\n  inputRefs: Ref<HTMLInputElement>[];\r\n\r\n  checkoutButtonClick: () => void;\r\n\r\n  totalProducts?: number;\r\n  totalWord?: string;\r\n  totalPrice?: string;\r\n}\r\n\r\nconst Language = {\r\n  deliveryCourierLabel: \"–î–æ—Å—Ç–∞–≤–∫–∞ –∫—É—Ä—å–µ—Ä–æ–º –¥–æ –¥–≤–µ—Ä–∏ —Å 10:00 –¥–æ 20:00 ‚Äî 300 ‚ÇΩ\",\r\n  deliveryPickupLabel: \"–í—ã –∑–∞–±–∏—Ä–∞–µ—Ç–µ –≤ –æ–¥–Ω–æ–º –∏–∑ –ø—É–Ω–∫—Ç–æ–≤ –ø—Ä–∏—ë–º–∞\",\r\n};\r\n\r\nconst CheckoutForm: FC<IFormProps> = ({\r\n  formWrapperRef,\r\n  inputRefs,\r\n  checkoutButtonClick,\r\n  totalProducts,\r\n  totalWord,\r\n  totalPrice,\r\n}) => {\r\n  const { isMobile } = general;\r\n  const { fields, values } = useForm(checkoutForm);\r\n\r\n  const user = useStore($user);\r\n\r\n  return (\r\n    <Wrapper ref={formWrapperRef}>\r\n      <Flex>\r\n        <TitleBlock>\r\n          <Title>–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</Title>\r\n          <Label>\r\n            {totalProducts} {totalWord} –Ω–∞ —Å—É–º–º—É {totalPrice} ‚ÇΩ\r\n          </Label>\r\n        </TitleBlock>\r\n        <LoginButton\r\n          onClick={() => {\r\n            if (user) {\r\n              openModal(<ExitConfirmationModal />);\r\n            } else {\r\n              openModal(<AuthModal type=\"authorization\" />);\r\n            }\r\n          }}\r\n        >\r\n          <TextLinkBold fontSize=\"16px\">\r\n            {user ? \"–í—ã–π—Ç–∏\" : \"–í–æ–π—Ç–∏ –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç\"}\r\n          </TextLinkBold>\r\n        </LoginButton>\r\n      </Flex>\r\n\r\n      <CommonGrid>\r\n        <Inputs>\r\n          <Input\r\n            internalRef={inputRefs[0]}\r\n            onChange={(e) => fields.firstName.onChange(e.target.value)}\r\n            error={fields.firstName.firstError?.errorText}\r\n            value={values.firstName}\r\n            title=\"–ò–º—è *\"\r\n            placeholder=\"–ò–≤–∞–Ω\"\r\n          />\r\n          <Input\r\n            internalRef={inputRefs[1]}\r\n            onChange={(e) => fields.lastName.onChange(e.target.value)}\r\n            error={fields.lastName.firstError?.errorText}\r\n            value={values.lastName}\r\n            title=\"–§–∞–º–∏–ª–∏—è *\"\r\n            placeholder=\"–ò–≤–∞–Ω–æ–≤\"\r\n          />\r\n          <Input\r\n            internalRef={inputRefs[2]}\r\n            onChange={(e) => fields.email.onChange(e.target.value)}\r\n            error={fields.email.firstError?.errorText}\r\n            value={values.email}\r\n            type=\"email\"\r\n            title=\"–ê–¥—Ä–µ—Å —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç—ã *\"\r\n            placeholder=\"some@some.com\"\r\n            label=\"–û—Ç–ø—Ä–∞–≤–∏–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∑–∞–∫–∞–∑–µ –∏ —Ç—Ä–µ–∫-–∫–æ–¥ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è\"\r\n          />\r\n          <Input\r\n            internalRef={inputRefs[3]}\r\n            onChange={(e) =>\r\n              fields.phoneNumber.onChange(phoneFormat(e.target.value, e))\r\n            }\r\n            error={fields.phoneNumber.firstError?.errorText}\r\n            value={values.phoneNumber}\r\n            type=\"tel\"\r\n            title=\"–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ *\"\r\n            placeholder=\"+7 999 888 77 66\"\r\n            label=\"–ú—ã –≤–∞–º –ø–æ–∑–≤–æ–Ω–∏–º, —á—Ç–æ–±—ã –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∑–∞–∫–∞–∑\"\r\n          />\r\n        </Inputs>\r\n\r\n        <RadioWrapper>\r\n          <RadioHead>–î–æ—Å—Ç–∞–≤–∫–∞</RadioHead>\r\n          <RadioGroup>\r\n            <RadioButton\r\n              tabIndex={0}\r\n              data-active={values.delivery === 0}\r\n              // @ts-ignore\r\n              onClick={() => fields.delivery.onChange(0)}\r\n            >\r\n              <HiddenRadio type=\"radio\" />\r\n              –ö—É—Ä—å–µ—Ä\r\n            </RadioButton>\r\n            <RadioButton\r\n              tabIndex={0}\r\n              data-active={values.delivery === 1}\r\n              // @ts-ignore\r\n              onClick={() => fields.delivery.onChange(1)}\r\n            >\r\n              <HiddenRadio type=\"radio\" />\r\n              –°–∞–º–æ–≤—ã–≤–æ–∑\r\n            </RadioButton>\r\n          </RadioGroup>\r\n          <InputLabel>\r\n            {values.delivery === 0\r\n              ? Language.deliveryCourierLabel\r\n              : Language.deliveryPickupLabel}\r\n          </InputLabel>\r\n          {values.delivery === 0 && (\r\n            <Address\r\n              value={values.address}\r\n              onChange={(query) => fields.address.onChange(query)}\r\n              error={fields.address.firstError?.errorText}\r\n              internalRef={inputRefs[4]}\r\n            />\r\n          )}\r\n        </RadioWrapper>\r\n      </CommonGrid>\r\n\r\n      {isMobile && (\r\n        <ButtonBlock>\r\n          <Button onClick={checkoutButtonClick} fixed>\r\n            –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑ ‚Äî {totalPrice} ‚ÇΩ\r\n          </Button>\r\n          <Agreement>\r\n            –ü—Ä–æ–¥–æ–ª–∂–∞—è –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞, –≤—ã —Å–æ–≥–ª–∞—à–∞–µ—Ç–µ—Å—å —Å{\" \"}\r\n            <TextLink onClick={() => openModal(<UserAgreementModal />)}>\r\n              –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ–º\r\n            </TextLink>{\" \"}\r\n            –∏{\" \"}\r\n            <TextLink onClick={() => openModal(<UserAgreementModal />)}>\r\n              –ø—Ä–∞–≤–∏–ª–∞–º–∏ –≤–æ–∑–≤—Ä–∞—Ç–∞\r\n            </TextLink>\r\n          </Agreement>\r\n        </ButtonBlock>\r\n      )}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default CheckoutForm;\r\n","import { FC, useRef, useEffect, useState } from \"react\";\r\nimport { useStore } from \"effector-react\";\r\nimport { useForm } from \"effector-forms\";\r\nimport { checkoutForm } from \"../../../store/cart/checkout\";\r\nimport styled from \"styled-components\";\r\nimport { Container } from \"react-bootstrap\";\r\nimport {\r\n  $cartProducts,\r\n  $totalPrice,\r\n  $totalWord,\r\n  $totalProducts,\r\n  changeById,\r\n  increaseById,\r\n  decreaseById,\r\n  deleteById,\r\n  fetchSavedProductsToCart,\r\n} from \"../../../store/cart\";\r\nimport { general } from \"../../../store/general\";\r\nimport { openModal } from \"../../../store/modal\";\r\nimport Button from \"../../../ui/Button\";\r\nimport { TextLink } from \"../../../ui/TextLink\";\r\nimport Spinner from \"../../../ui/Spinner\";\r\nimport CartLargeProduct from \"./components/CartLargeProduct\";\r\nimport CheckoutForm from \"./components/CheckoutForm\";\r\nimport UserAgreementModal from \"../../../modals/UserAgreementModal\";\r\n\r\nconst Wrapper = styled.div`\r\n  margin-top: 32px;\r\n\r\n  @media (max-width: 768px) {\r\n    margin-top: 20px;\r\n  }\r\n`;\r\nconst Head = styled.h1`\r\n  font-size: 28px;\r\n  font-weight: bold;\r\n  color: #000;\r\n  margin: 0;\r\n\r\n  @media (max-width: 768px) {\r\n    font-size: 24px;\r\n  }\r\n`;\r\nconst CartContent = styled.div`\r\n  margin-top: 20px;\r\n  display: grid;\r\n  grid-auto-flow: column;\r\n  grid-template-columns: 1fr 350px;\r\n  grid-gap: 20px;\r\n\r\n  @media (min-width: 240px) and (max-width: 768px) {\r\n    grid-template-columns: 1fr;\r\n    grid-auto-flow: row;\r\n  }\r\n\r\n  @media (min-width: 768px) and (max-width: 1200px) {\r\n    /* grid-template-columns: 1fr 1fr; */\r\n  }\r\n`;\r\nconst ProductList = styled.div``;\r\nconst Empty = styled.div`\r\n  opacity: 0.5;\r\n  font-size: 18px;\r\n`;\r\n\r\nconst TotalBlock = styled.div<{ active?: boolean }>`\r\n  padding: 24px;\r\n  background: #ffffff;\r\n  box-shadow: 0px 0px 2px rgba(0, 0, 0, 0.16),\r\n    0px 19px 24px -12px rgba(0, 0, 0, 0.21);\r\n  border-radius: 6px;\r\n  height: fit-content;\r\n  position: sticky;\r\n  top: 16px;\r\n\r\n  @media (max-width: 768px) {\r\n    position: fixed;\r\n    top: initial;\r\n    bottom: ${({ active }) => (active === true ? \"-64px\" : \"0px\")};\r\n    right: 0;\r\n    left: 0;\r\n    padding: 10px 16px;\r\n    border-radius: 0;\r\n    transition: bottom 0.2s ease;\r\n  }\r\n`;\r\nconst TotalHead = styled(Head)`\r\n  font-size: 24px;\r\n`;\r\nconst PropertyKey = styled.div``;\r\nconst PropertyValue = styled(PropertyKey)``;\r\nconst Property = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n\r\n  &:not(:first-child) {\r\n    margin-top: 10px;\r\n    border-top: 1px dashed #e0e0e0;\r\n    padding-top: 10px;\r\n  }\r\n`;\r\nconst PropertyBlock = styled.div`\r\n  margin-top: 24px;\r\n`;\r\nconst ButtonBlock = styled.div`\r\n  margin-top: 24px;\r\n\r\n  @media (max-width: 768px) {\r\n    margin-top: 0px;\r\n  }\r\n`;\r\nconst PropertiesMobile = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  font-size: 14px;\r\n\r\n  @media (max-width: 768px) {\r\n    margin: 1px 0 8px 0;\r\n  }\r\n`;\r\nconst Agreement = styled.div`\r\n  font-size: 13px;\r\n  color: #585858;\r\n  margin-top: 12px;\r\n  text-align: center; ;\r\n`;\r\n\r\nconst CartProductList: FC = () => {\r\n  const { isMobile } = general;\r\n  const [mobileButtonBlockHidden, setMobileButtonBlockHidden] = useState<\r\n    boolean\r\n  >(false);\r\n\r\n  const products = useStore($cartProducts);\r\n  const totalPrice = useStore($totalPrice);\r\n  const totalWord = useStore($totalWord);\r\n  const totalProducts = useStore($totalProducts);\r\n\r\n  const loading = useStore(fetchSavedProductsToCart.pending);\r\n\r\n  const {\r\n    submit,\r\n    isDirty,\r\n    values: { delivery },\r\n  } = useForm(checkoutForm);\r\n\r\n  const empty = products.length === 0;\r\n\r\n  const formWrapperRef = useRef<HTMLDivElement>(null);\r\n  const nameInputRef = useRef<HTMLInputElement>(null);\r\n  const surnameInputRef = useRef<HTMLInputElement>(null);\r\n  const emailInputRef = useRef<HTMLInputElement>(null);\r\n  const phoneInputRef = useRef<HTMLInputElement>(null);\r\n  const addressInputRef = useRef<HTMLInputElement>(null);\r\n\r\n  const inputRefsArray = [\r\n    nameInputRef,\r\n    surnameInputRef,\r\n    emailInputRef,\r\n    phoneInputRef,\r\n    addressInputRef,\r\n  ];\r\n\r\n  useEffect(() => {\r\n    if (formWrapperRef && formWrapperRef.current) {\r\n      const onScroll = () => {\r\n        const bodyTop = Math.abs(document.body.getBoundingClientRect().top);\r\n        const formTop = formWrapperRef.current?.offsetTop;\r\n        if (formTop - 100 <= bodyTop) {\r\n          if (!mobileButtonBlockHidden) {\r\n            setMobileButtonBlockHidden(true);\r\n          }\r\n        } else {\r\n          if (mobileButtonBlockHidden) {\r\n            setMobileButtonBlockHidden(false);\r\n          }\r\n        }\r\n      };\r\n\r\n      document.addEventListener(\"scroll\", onScroll);\r\n      return () => document.removeEventListener(\"scroll\", onScroll);\r\n    }\r\n  }, [formWrapperRef, mobileButtonBlockHidden]);\r\n\r\n  const checkoutButtonClick = () => {\r\n    if (!isMobile) {\r\n      formWrapperRef.current.style.border = \"1px solid var(--primary-color)\";\r\n    }\r\n\r\n    formWrapperRef.current.scrollIntoView();\r\n\r\n    if (isDirty) {\r\n      submit();\r\n    }\r\n\r\n    for (let i = 0; i < inputRefsArray.length; i++) {\r\n      const item = inputRefsArray[i];\r\n      if (!item || !item.current) {\r\n        return;\r\n      }\r\n      if (item.current.value.length === 0) {\r\n        item.current.focus();\r\n        item.current.parentElement.scrollIntoView();\r\n        break;\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Container>\r\n        <Head>–ö–æ—Ä–∑–∏–Ω–∞</Head>\r\n        <CartContent>\r\n          <ProductList>\r\n            {loading && <Spinner justifyContent=\"start\" />}\r\n            {empty && !loading && (\r\n              <Empty>–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞—è. –°–∞–º–æ–µ –≤—Ä–µ–º—è –Ω–∞–ø–æ–ª–Ω–∏—Ç—å –µ—ë.</Empty>\r\n            )}\r\n            {!empty &&\r\n              products.map(\r\n                ({\r\n                  name,\r\n                  quantity,\r\n                  price,\r\n                  photos,\r\n                  id,\r\n                  size,\r\n                  material,\r\n                  totalPrice,\r\n                }) => (\r\n                  <CartLargeProduct\r\n                    name={name}\r\n                    size={size}\r\n                    totalPrice={totalPrice}\r\n                    material={material}\r\n                    quantity={quantity}\r\n                    price={price}\r\n                    id={id}\r\n                    avatarPath={photos.length && photos[0]}\r\n                    onChange={(value) =>\r\n                      changeById({ id, value: parseInt(value) })\r\n                    }\r\n                    onDelete={() => deleteById(id)}\r\n                    onIncrease={() => increaseById(id)}\r\n                    onDecrease={() => decreaseById(id)}\r\n                  />\r\n                )\r\n              )}\r\n            {!empty && (\r\n              <CheckoutForm\r\n                checkoutButtonClick={checkoutButtonClick}\r\n                totalProducts={totalProducts}\r\n                totalWord={totalWord}\r\n                totalPrice={totalPrice}\r\n                formWrapperRef={formWrapperRef}\r\n                inputRefs={inputRefsArray}\r\n              />\r\n            )}\r\n          </ProductList>\r\n          {!empty && (\r\n            <TotalBlock active={mobileButtonBlockHidden}>\r\n              {!isMobile && <TotalHead>–ò—Ç–æ–≥–æ</TotalHead>}\r\n              {!isMobile && (\r\n                <PropertyBlock>\r\n                  <Property>\r\n                    <PropertyKey>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ</PropertyKey>\r\n                    <PropertyValue>\r\n                      {totalProducts} {totalWord}\r\n                    </PropertyValue>\r\n                  </Property>\r\n                  {delivery === 0 && (\r\n                    <Property>\r\n                      <PropertyKey>–î–æ—Å—Ç–∞–≤–∫–∞</PropertyKey>\r\n                      <PropertyValue>500 ‚ÇΩ</PropertyValue>\r\n                    </Property>\r\n                  )}\r\n                  <Property>\r\n                    <PropertyKey>–°—É–º–º–∞</PropertyKey>\r\n                    <PropertyValue>{totalPrice} ‚ÇΩ</PropertyValue>\r\n                  </Property>\r\n                </PropertyBlock>\r\n              )}\r\n              {/* {isMobile && (\r\n                <PropertiesMobile>\r\n                  {totalProducts} {totalWord} –Ω–∞ —Å—É–º–º—É {totalPrice} ‚ÇΩ\r\n                </PropertiesMobile>\r\n              )} */}\r\n              <ButtonBlock>\r\n                <Button onClick={checkoutButtonClick} fixed disabled={empty}>\r\n                  –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑ ‚Äî {totalPrice} ‚ÇΩ\r\n                </Button>\r\n              </ButtonBlock>\r\n              {!isMobile && (\r\n                <Agreement>\r\n                  –ü—Ä–æ–¥–æ–ª–∂–∞—è –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞, –≤—ã —Å–æ–≥–ª–∞—à–∞–µ—Ç–µ—Å—å —Å{\" \"}\r\n                  <TextLink onClick={() => openModal(<UserAgreementModal />)}>\r\n                    –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ–º\r\n                  </TextLink>{\" \"}\r\n                  –∏{\" \"}\r\n                  <TextLink onClick={() => openModal(<UserAgreementModal />)}>\r\n                    –ø—Ä–∞–≤–∏–ª–∞–º–∏ –≤–æ–∑–≤—Ä–∞—Ç–∞\r\n                  </TextLink>\r\n                </Agreement>\r\n              )}\r\n            </TotalBlock>\r\n          )}\r\n        </CartContent>\r\n      </Container>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default CartProductList;\r\n","import React, { FC, useEffect } from \"react\";\r\nimport CartProductList from \"./CartProductList\";\r\nimport Header from \"../../sections/Header\";\r\nimport Footer from \"../../sections/Footer\";\r\n\r\nconst Cart: FC = () => {\r\n  useEffect(() => {\r\n    window.scroll(0, 0);\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <CartProductList />\r\n      <Footer />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n","import { createEvent, sample, guard, createStore, attach } from \"effector\";\r\nimport { createForm } from \"effector-forms\";\r\nimport { IProduct, SizeT, IProductCart } from \"../models/ProductModel\";\r\nimport { addProductToCart } from \"../cart\";\r\nimport { request, AuthedRequestT } from \"../../api/request\";\r\n\r\nexport const increaseQuantity = createEvent<number>();\r\nexport const decreaseQuantity = createEvent<number>();\r\nexport const changeSize = createEvent<SizeT>();\r\n\r\nexport const changeCurrentProduct = createEvent<IProduct>();\r\nexport const resetCurrentProduct = createEvent();\r\n\r\nexport const fetchProductByIdFx = attach<string, AuthedRequestT<IProduct>>({\r\n  effect: request,\r\n  mapParams: (productId) => ({\r\n    method: \"GET\",\r\n    url: `product/${productId}`,\r\n  }),\r\n});\r\n\r\nexport const $currentProduct = createStore<IProduct>({} as IProduct)\r\n  .on(changeCurrentProduct, (st, x) => x)\r\n  .on(changeSize, (state, size) => ({ ...state, size }))\r\n  .on(fetchProductByIdFx.doneData, (st, x) => {\r\n    if (x.result) {\r\n      // @ts-ignore\r\n      return { ...x.result, photos: x.result.photos.map((x) => x?.name) };\r\n    }\r\n\r\n    return null;\r\n  })\r\n  .reset(resetCurrentProduct);\r\n\r\nexport const currentProductForm = createForm({\r\n  fields: {\r\n    quantity: {\r\n      init: 1,\r\n    },\r\n    size: {\r\n      init: \"\",\r\n      rules: [\r\n        {\r\n          name: \"required\",\r\n          validator: (size) => ({\r\n            isValid: Boolean(size),\r\n            errorText: \"–£–∫–∞–∂–∏—Ç–µ —Ä–∞–∑–º–µ—Ä\",\r\n          }),\r\n        },\r\n      ],\r\n    },\r\n  },\r\n  validateOn: [\"submit\"],\r\n});\r\n\r\nsample({\r\n  clock: guard({\r\n    clock: currentProductForm.submit,\r\n    filter: currentProductForm.$isValid,\r\n  }),\r\n  source: [$currentProduct, currentProductForm.$values],\r\n  fn: ([product, form]) =>\r\n    ({\r\n      ...product,\r\n      ...form,\r\n    } as IProductCart),\r\n  target: addProductToCart,\r\n});\r\n","import React, { FC, useState, useEffect, useRef } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { apiPhotoPath } from \"../../api/request\";\r\n\r\nconst Wrapper = styled.div`\r\n  width: 80%;\r\n  height: 80%;\r\n  background: #242424;\r\n  margin: 0 auto;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  position: relative;\r\n`;\r\nconst Photo = styled.div<{ url: string }>`\r\n  width: 100%;\r\n  height: 100%;\r\n  background-size: contain;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n\r\n  background-image: url(${({ url }) => url});\r\n`;\r\nconst SmallPhotosContainer = styled.div<{ opacity: number }>`\r\n  display: flex;\r\n  justify-content: center;\r\n  width: 100%;\r\n  background: linear-gradient(0deg, #000000bf, transparent);\r\n  align-items: center;\r\n  position: absolute;\r\n  padding: 32px 48px 24px 48px;\r\n  bottom: 0;\r\n  opacity: ${({ opacity }) => opacity};\r\n  transition: opacity 0.5s ease;\r\n`;\r\nconst SmallPhoto = styled.div<{ active?: boolean; url: string }>`\r\n  border: ${(p) => (p.active ? \"3px solid var(--primary-color)\" : \"0\")};\r\n  width: 64px;\r\n  height: 64px;\r\n  cursor: pointer;\r\n\r\n  background-size: cover;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n\r\n  background-image: url(${({ url }) => apiPhotoPath + url});\r\n\r\n  &:not(:last-child) {\r\n    margin-right: 12px;\r\n  }\r\n`;\r\n\r\ninterface IPhotoModalProps {\r\n  currentPhoto: string;\r\n  otherPhotos: string[];\r\n}\r\n\r\nconst PhotoModal: FC<IPhotoModalProps> = ({ currentPhoto, otherPhotos }) => {\r\n  const [myCurrentPhoto, setMyCurrentPhoto] = useState<string>(currentPhoto);\r\n  const [myOtherPhotosOpacity, setMyOtherPhotosOpacity] = useState<number>();\r\n\r\n  const firstTimeoutId = useRef<unknown>(null);\r\n\r\n  const hideOtherPhotos = () => {\r\n    setTimeout(() => setMyOtherPhotosOpacity(0), 500);\r\n  };\r\n\r\n  useEffect(() => {\r\n    firstTimeoutId.current = setTimeout(() => setMyOtherPhotosOpacity(0), 1500);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setMyCurrentPhoto(currentPhoto);\r\n  }, [currentPhoto]);\r\n\r\n  return (\r\n    <Wrapper onClick={(e) => e.stopPropagation()}>\r\n      <Photo url={myCurrentPhoto} />\r\n\r\n      <SmallPhotosContainer\r\n        opacity={myOtherPhotosOpacity}\r\n        onMouseOver={() => {\r\n          if (firstTimeoutId && firstTimeoutId.current) {\r\n            //@ts-ignore\r\n            clearTimeout(firstTimeoutId.current);\r\n          }\r\n          setMyOtherPhotosOpacity(1);\r\n        }}\r\n        onMouseLeave={hideOtherPhotos}\r\n      >\r\n        {otherPhotos.map((x) => (\r\n          <SmallPhoto\r\n            url={x}\r\n            active={myCurrentPhoto === x || myCurrentPhoto === apiPhotoPath + x}\r\n            onMouseOver={() =>\r\n              myCurrentPhoto !== x && setMyCurrentPhoto(apiPhotoPath + x)\r\n            }\r\n            onClick={() =>\r\n              myCurrentPhoto !== x && setMyCurrentPhoto(apiPhotoPath + x)\r\n            }\r\n          />\r\n        ))}\r\n      </SmallPhotosContainer>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default PhotoModal;\r\n","import {\r\n  FC,\r\n  useState,\r\n  useRef,\r\n  MouseEvent,\r\n  TouchEvent,\r\n  useCallback,\r\n  useEffect,\r\n} from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { general } from \"../../../store/general\";\r\nimport { openModal } from \"../../../store/modal\";\r\nimport PhotoModal from \"../../../modals/PhotoModal\";\r\nimport Spinner from \"../../../ui/Spinner\";\r\nimport { useStore } from \"effector-react\";\r\nimport { $currentProduct } from \"../../../store/product/currentProduct\";\r\nimport { usePhoto } from \"../../../hooks/usePhoto\";\r\n\r\nconst Photo = styled.div<{ url?: string }>`\r\n  /* background-image: url(\"\"); */\r\n  background-position: center;\r\n  background-repeat: no-repeat;\r\n  background-size: contain;\r\n`;\r\nconst BigPhotoContainer = styled.div`\r\n  position: relative;\r\n  width: 400px;\r\n  height: 400px;\r\n  overflow: hidden;\r\n  border-radius: 6px;\r\n  border: 1px solid rgba(0, 0, 0, 0.2);\r\n\r\n  @media (max-width: 768px) {\r\n    overflow: initial;\r\n    width: 100%;\r\n    border: none;\r\n    border-radius: 0px;\r\n  }\r\n`;\r\nconst BigPhotoCaruselWrapper = styled.div`\r\n  overflow-y: hidden;\r\n`;\r\nconst BigPhotoCarusel = styled.div`\r\n  height: 400px;\r\n  position: absolute;\r\n  left: -12px;\r\n  right: -12px;\r\n  display: flex;\r\n  overflow-y: hidden;\r\n  overflow-x: scroll;\r\n  z-index: 100;\r\n`;\r\nconst BigPhoto = styled(Photo)<{ url?: string; onlyOne?: boolean }>`\r\n  width: 400px;\r\n  height: 400px;\r\n  border-radius: 6px;\r\n  background-image: url(${(p) => p.url || \"\"});\r\n\r\n  @media (max-width: 768px) {\r\n    overflow: hidden;\r\n    background-position: initial;\r\n    background-size: ${(p) => (p.onlyOne !== true ? \"contain\" : \"cover\")};\r\n    width: ${(p) => (p.onlyOne !== true ? \"100%\" : \"100%\")};\r\n    flex-shrink: 0;\r\n    height: 100%;\r\n    margin-left: ${(p) => (p.onlyOne !== true ? \"1px\" : \"0\")};\r\n    &:first-child {\r\n      margin-left: ${(p) => (p.onlyOne !== true ? \"0px\" : \"0\")};\r\n    }\r\n    &:last-child {\r\n      margin-right: ${(p) => (p.onlyOne !== true ? \"0px\" : \"0\")};\r\n    }\r\n    border-radius: 0px;\r\n  }\r\n`;\r\nconst PhotoScaledContainer = styled(BigPhoto)`\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  z-index: 1000;\r\n  border: 1px solid #ccc;\r\n  border-radius: 6px;\r\n  width: 100%;\r\n  height: 100%;\r\n  cursor: pointer;\r\n`;\r\n\r\ninterface IBigPhotoProps {\r\n  currentPhoto: string;\r\n  otherPhotos: string[];\r\n}\r\n\r\nconst BigPhotoWrapper: FC<IBigPhotoProps> = ({ currentPhoto, otherPhotos }) => {\r\n  const { id } = useStore($currentProduct);\r\n  const finalPhoto = usePhoto(currentPhoto, id);\r\n\r\n  const { isMobile } = general;\r\n  const [scaledPhotoVisible, setScaledPhotoVisible] = useState<boolean>(false);\r\n\r\n  const scaledPhotoElementRef = useRef<HTMLDivElement>(null);\r\n  const boundingPhotoRectRef = useRef<{ left: number; top: number }>({\r\n    left: 0,\r\n    top: 0,\r\n  });\r\n\r\n  let [{ offsetX, offsetY }, setScaledOffset] = useState<{\r\n    offsetX: number;\r\n    offsetY: number;\r\n  }>({ offsetX: 0, offsetY: 0 });\r\n\r\n  useEffect(() => {\r\n    if (!scaledPhotoElementRef.current) {\r\n      return;\r\n    }\r\n\r\n    const { left, top } = scaledPhotoElementRef.current.getBoundingClientRect();\r\n    boundingPhotoRectRef.current = { left, top };\r\n  }, [scaledPhotoElementRef.current]);\r\n\r\n  const onScaleEnd = useCallback(() => {\r\n    if (isMobile) {\r\n      document.body.classList.remove(\"no-scroll\");\r\n    }\r\n    setScaledPhotoVisible(false);\r\n  }, []);\r\n\r\n  const onScaleStart = useCallback(() => {\r\n    if (isMobile) {\r\n      document.body.classList.add(\"no-scroll\");\r\n    }\r\n    setScaledPhotoVisible(true);\r\n  }, []);\r\n\r\n  const onScale = useCallback(\r\n    (\r\n      event: MouseEvent<HTMLDivElement> | TouchEvent<HTMLDivElement>,\r\n      element: HTMLDivElement\r\n    ) => {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n\r\n      // @ts-ignore\r\n      let { clientX: x, clientY: y } = event.nativeEvent.targetTouches\r\n        ? // @ts-ignore\r\n          event.nativeEvent.targetTouches[0]\r\n        : event.nativeEvent;\r\n\r\n      let { left, top } = boundingPhotoRectRef.current;\r\n\r\n      x = x - left;\r\n      y = y - top;\r\n\r\n      x = x - element.offsetWidth / 2;\r\n      y = y - element.offsetHeight / 2;\r\n\r\n      x = Number(((100 * x) / element.offsetWidth).toFixed());\r\n      y = Number(((100 * y) / element.offsetHeight).toFixed());\r\n\r\n      if (x >= 50 || x <= -50 || y >= 50 || y <= -50) {\r\n        return;\r\n      }\r\n\r\n      setScaledOffset({ offsetX: -x - 50, offsetY: -y - 50 });\r\n    },\r\n    []\r\n  );\r\n\r\n  return (\r\n    <BigPhotoContainer\r\n      onMouseEnter={!isMobile && onScaleStart}\r\n      onMouseLeave={!isMobile && onScaleEnd}\r\n      onMouseMove={(event) =>\r\n        !isMobile && onScale(event, scaledPhotoElementRef.current)\r\n      }\r\n      ref={scaledPhotoElementRef}\r\n    >\r\n      {!finalPhoto && (\r\n        <Spinner style={{ position: \"absolute\", top: \"50%\", left: \"50%\" }} />\r\n      )}\r\n\r\n      {isMobile ? (\r\n        <BigPhotoCaruselWrapper>\r\n          <BigPhotoCarusel>\r\n            {otherPhotos?.length &&\r\n              otherPhotos.map((x) => (\r\n                <BigPhoto onlyOne={otherPhotos?.length === 1} url={x} />\r\n              ))}\r\n          </BigPhotoCarusel>\r\n        </BigPhotoCaruselWrapper>\r\n      ) : (\r\n        <BigPhoto\r\n          url={finalPhoto}\r\n          onClick={() =>\r\n            isMobile ||\r\n            openModal(\r\n              <PhotoModal otherPhotos={otherPhotos} currentPhoto={finalPhoto} />\r\n            )\r\n          }\r\n        />\r\n      )}\r\n\r\n      {!isMobile && scaledPhotoVisible && (\r\n        <PhotoScaledContainer\r\n          onClick={() =>\r\n            openModal(\r\n              <PhotoModal otherPhotos={otherPhotos} currentPhoto={finalPhoto} />\r\n            )\r\n          }\r\n          style={{\r\n            left: offsetX + \"%\",\r\n            top: offsetY + \"%\",\r\n            width: scaledPhotoElementRef.current.offsetWidth * 2 + \"px\",\r\n            height: scaledPhotoElementRef.current.offsetHeight * 2 + \"px\",\r\n          }}\r\n          url={finalPhoto}\r\n        />\r\n      )}\r\n    </BigPhotoContainer>\r\n  );\r\n};\r\n\r\nexport default BigPhotoWrapper;\r\n","import { FC } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { usePhoto } from \"../../../hooks/usePhoto\";\r\n\r\nconst SmallPhotoElement = styled.div<{ photo?: string; active: boolean }>`\r\n  background-position: center;\r\n  background-repeat: no-repeat;\r\n  background-size: contain;\r\n  width: 60px;\r\n  height: 60px;\r\n  border-radius: 6px;\r\n  background-color: #ccc;\r\n  cursor: pointer;\r\n\r\n  transition: border 0.1s ease;\r\n\r\n  background-image: url(${(p) => p.photo || \"\"});\r\n\r\n  border: ${(p) => (p.active ? \"3px solid var(--primary-color)\" : \"0\")};\r\n\r\n  &:not(:first-child) {\r\n    margin-top: 10px;\r\n  }\r\n\r\n  @media (max-width: 768px) {\r\n    margin: 0 8px 0 0 !important;\r\n  }\r\n`;\r\n\r\ninterface ISmallPhotoProps {\r\n  productId: number;\r\n  photo: string;\r\n  active: boolean;\r\n  onMouseOver: () => void;\r\n}\r\n\r\nconst SmallPhoto: FC<ISmallPhotoProps> = ({\r\n  productId,\r\n  photo,\r\n  active,\r\n  onMouseOver,\r\n}) => {\r\n  const myPhoto = usePhoto(photo, productId);\r\n\r\n  return (\r\n    <SmallPhotoElement\r\n      active={active}\r\n      photo={myPhoto}\r\n      onMouseOver={onMouseOver}\r\n    />\r\n  );\r\n};\r\n\r\nexport default SmallPhoto;\r\n","import { FC, useState } from \"react\";\r\nimport { useStore } from \"effector-react\";\r\nimport styled from \"styled-components\";\r\nimport { $currentProduct } from \"../../../store/product/currentProduct\";\r\nimport BigPhotoWrapper from \"./BigPhotoWrapper\";\r\nimport SmallPhoto from \"./SmallPhoto\";\r\nimport { general } from \"../../../store/general\";\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  position: relative;\r\n\r\n  @media (max-width: 768px) {\r\n    flex-direction: column-reverse;\r\n  }\r\n`;\r\nconst SmallPhotosColumn = styled.div`\r\n  margin-left: 12px;\r\n\r\n  @media (max-width: 768px) {\r\n    display: flex;\r\n    align-items: center;\r\n    margin: 16px 0;\r\n    width: 100%;\r\n  }\r\n`;\r\n\r\nconst PhotoViewer: FC = () => {\r\n  const [selectedPhoto, setSelectedPhoto] = useState<number>(0);\r\n\r\n  const { isMobile } = general;\r\n  const { photos, id: productId } = useStore($currentProduct);\r\n\r\n  const currentPhoto = photos && photos.length > 0 ? photos[selectedPhoto] : \"\";\r\n\r\n  return (\r\n    <Wrapper>\r\n      <BigPhotoWrapper\r\n        otherPhotos={photos}\r\n        currentPhoto={currentPhoto || (photos && photos[0])}\r\n      />\r\n\r\n      {!isMobile && photos && (\r\n        <SmallPhotosColumn>\r\n          {photos?.map((photo, index) => (\r\n            <SmallPhoto\r\n              productId={productId}\r\n              active={selectedPhoto === index}\r\n              photo={photo}\r\n              onMouseOver={() =>\r\n                selectedPhoto !== index ? setSelectedPhoto(index) : 0\r\n              }\r\n            />\r\n          ))}\r\n        </SmallPhotosColumn>\r\n      )}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default PhotoViewer;\r\n","import { FC } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { SizeT } from \"../../store/models/ProductModel\";\r\n\r\nconst Wrapper = styled.div``;\r\nconst SizeRow = styled.div`\r\n  display: flex;\r\n\r\n  @media (max-width: 768px) {\r\n    justify-content: space-between;\r\n    width: 100%;\r\n  }\r\n`;\r\nconst SizeCell = styled.button<{ selected?: boolean }>`\r\n  width: 44px;\r\n  height: 40px;\r\n  background-color: #fff;\r\n  border: ${(p) =>\r\n    p.selected ? \"2px solid var(--primary-color)\" : \"1px solid #c4c4c4\"};\r\n  border-radius: 6px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  cursor: pointer;\r\n\r\n  font-size: 18px;\r\n  text-align: center;\r\n  font-weight: 500;\r\n  user-select: none;\r\n\r\n  color: ${(p) => (p.selected ? \"var(--primary-color)\" : \"#000\")};\r\n\r\n  &:not(:first-child) {\r\n    margin-left: 6px;\r\n  }\r\n\r\n  &:hover {\r\n    border: 2px solid var(--primary-color);\r\n  }\r\n\r\n  &:active {\r\n    background-color: rgba(142, 72, 233, 0.2);\r\n  }\r\n\r\n  @media (max-width: 768px) {\r\n    width: initial;\r\n    flex: 1;\r\n    height: 48px;\r\n    font-size: 22px;\r\n  }\r\n`;\r\nconst ErrorText = styled.div`\r\n  font-size: 15px;\r\n  line-height: 18px;\r\n  color: red;\r\n  margin-top: 8px;\r\n`;\r\n\r\ninterface ISizePickerProps {\r\n  selectedSize: SizeT;\r\n  onSelect: (size: SizeT) => void;\r\n\r\n  errorText?: string;\r\n}\r\n\r\nconst sizes: SizeT[] = [\"XS\", \"S\", \"M\", \"L\", \"XL\", \"XXL\"];\r\n\r\nconst SizePicker: FC<ISizePickerProps> = ({\r\n  selectedSize,\r\n  onSelect,\r\n  errorText,\r\n}) => {\r\n  return (\r\n    <Wrapper>\r\n      <SizeRow>\r\n        {sizes.map((size) => (\r\n          <SizeCell\r\n            aria-label={`–†–∞–∑–º–µ—Ä ${size}`}\r\n            title={`–†–∞–∑–º–µ—Ä ${size}`}\r\n            onClick={() => onSelect(size)}\r\n            selected={selectedSize === size}\r\n          >\r\n            {size}\r\n          </SizeCell>\r\n        ))}\r\n      </SizeRow>\r\n      {errorText && <ErrorText>{errorText}</ErrorText>}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default SizePicker;\r\n","interface ISizeRow {\r\n  russian: string;\r\n  manufacturer: string;\r\n  breast: string;\r\n  waist: string;\r\n  hips: string;\r\n}\r\n\r\nconst sizes: ISizeRow[] = [\r\n  {\r\n    russian: \"40-42\",\r\n    manufacturer: \"XXS\",\r\n    breast: \"78-86\",\r\n    waist: \"66-74\",\r\n    hips: \"84-92\",\r\n  },\r\n  {\r\n    russian: \"42-44\",\r\n    manufacturer: \"XS\",\r\n    breast: \"82-90\",\r\n    waist: \"70-78\",\r\n    hips: \"88-96\",\r\n  },\r\n  {\r\n    russian: \"44-46\",\r\n    manufacturer: \"S\",\r\n    breast: \"86-94\",\r\n    waist: \"66-82\",\r\n    hips: \"92-100\",\r\n  },\r\n  {\r\n    russian: \"46-48\",\r\n    manufacturer: \"M\",\r\n    breast: \"90-98\",\r\n    waist: \"78-86\",\r\n    hips: \"96-104\",\r\n  },\r\n\r\n  {\r\n    russian: \"48-50\",\r\n    manufacturer: \"L\",\r\n    breast: \"94-102\",\r\n    waist: \"82-90\",\r\n    hips: \"100-108\",\r\n  },\r\n\r\n  {\r\n    russian: \"50-52\",\r\n    manufacturer: \"XL\",\r\n    breast: \"98-106\",\r\n    waist: \"86-94\",\r\n    hips: \"104-112\",\r\n  },\r\n  {\r\n    russian: \"52-54\",\r\n    manufacturer: \"XXL\",\r\n    breast: \"102-110\",\r\n    waist: \"90-98\",\r\n    hips: \"108-116\",\r\n  },\r\n  {\r\n    russian: \"56-58\",\r\n    manufacturer: \"3XL\",\r\n    breast: \"110-118\",\r\n    waist: \"98-106\",\r\n    hips: \"116-124\",\r\n  },\r\n  {\r\n    russian: \"60-62\",\r\n    manufacturer: \"4XL\",\r\n    breast: \"118-126\",\r\n    waist: \"106-114\",\r\n    hips: \"124-132\",\r\n  },\r\n];\r\n\r\nexport default sizes;\r\n","export default __webpack_public_path__ + \"static/media/close_black_24.4dc23c11.svg\";","import { FC } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { closeModal } from \"../../store/modal\";\r\nimport sizes from \"./logic\";\r\nimport CloseIcon from \"../../images/icons/close_black_24.svg\";\r\n\r\nconst ModalWrapper = styled.div`\r\n  width: 1000px;\r\n  margin: auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n\r\n  @media (max-width: 768px) {\r\n    width: initial;\r\n    padding: 0;\r\n    overflow-x: auto;\r\n  }\r\n`;\r\nconst SizeWrapper = styled.div`\r\n  margin: 32px 0;\r\n  position: relative;\r\n  width: 100%;\r\n  background-color: #fff;\r\n  border-radius: 8px;\r\n  padding: 20px 24px 20px 24px;\r\n  display: flex;\r\n  flex-flow: column;\r\n  box-shadow: 0px 0px 2px rgba(0, 0, 0, 0.25),\r\n    0px 15px 25px -11px rgba(0, 0, 0, 0.3);\r\n\r\n  @media (max-width: 768px) {\r\n    box-shadow: none;\r\n    padding: 20px 16px 0 16px;\r\n    margin: 0;\r\n    position: absolute;\r\n    bottom: -16px;\r\n    /* overflow: auto; */\r\n    box-shadow: none;\r\n  }\r\n`;\r\nconst Title = styled.h2`\r\n  font-weight: 600;\r\n  font-size: 24px;\r\n  line-height: 29px;\r\n  margin: 4px 0 16px 0;\r\n  @media (max-width: 480px) {\r\n    margin: 14px 0 16px 0;\r\n  }\r\n`;\r\nconst Close = styled.div`\r\n  opacity: 0.5;\r\n  cursor: pointer;\r\n  user-select: none;\r\n  position: absolute;\r\n\r\n  top: 12px;\r\n  right: 12px;\r\n\r\n  width: 28px;\r\n  height: 28px;\r\n\r\n  background-image: url(${CloseIcon});\r\n  background-position: center;\r\n  background-size: contain;\r\n`;\r\nconst Table = styled.div`\r\n  display: grid;\r\n  grid-row-gap: 16px;\r\n\r\n  @media (max-width: 768px) {\r\n    overflow-x: auto;\r\n    padding: 0 16px 70px 16px;\r\n    margin: 0 -17px;\r\n  }\r\n`;\r\nconst TableCol = styled.div`\r\n  text-align: center;\r\n`;\r\nconst TableRow = styled.div`\r\n  display: grid;\r\n  grid-column-gap: 12px;\r\n  grid-auto-flow: column;\r\n  grid-auto-columns: 1fr;\r\n  font-size: 15px;\r\n  padding: 4px 0;\r\n  border-radius: 5px;\r\n\r\n  &:first-child {\r\n    background: #efefef;\r\n    padding: 12px 0;\r\n    border-radius: 5px;\r\n    grid-auto-columns: 1fr;\r\n  }\r\n\r\n  &:hover {\r\n    background: #efefef;\r\n  }\r\n\r\n  @media (max-width: 768px) {\r\n    font-size: 14px;\r\n    white-space: nowrap;\r\n\r\n    &:first-child {\r\n      padding: 12px 16px;\r\n    }\r\n  }\r\n`;\r\n\r\ninterface ISizesModalModalProps {}\r\n\r\nconst SizesModal: FC<ISizesModalModalProps> = ({}) => {\r\n  return (\r\n    <ModalWrapper>\r\n      <SizeWrapper onClick={(e) => e.stopPropagation()}>\r\n        <Close\r\n          title=\"–ó–∞–∫—Ä—ã—Ç—å\"\r\n          role=\"button\"\r\n          onClick={() => closeModal()}\r\n        ></Close>\r\n        <Title>–¢–∞–±–ª–∏—Ü–∞ —Ä–∞–∑–º–µ—Ä–æ–≤</Title>\r\n        <Table>\r\n          <TableRow>\r\n            <TableCol>–†–æ—Å—Å–∏–π—Å–∫–∏–π —Ä–∞–∑–º–µ—Ä</TableCol>\r\n            <TableCol>–ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–π</TableCol>\r\n            <TableCol>–û–±—Ö–≤–∞—Ç –≥—Ä—É–¥–∏, —Å–º</TableCol>\r\n            <TableCol>–û–±—Ö–≤–∞—Ç —Ç–∞–ª–∏–∏, —Å–º</TableCol>\r\n            <TableCol>–û–±—Ö–≤–∞—Ç –±–µ–¥–µ—Ä, —Å–º</TableCol>\r\n          </TableRow>\r\n          {sizes.map(({ russian, manufacturer, breast, waist, hips }) => (\r\n            <TableRow>\r\n              <TableCol>{russian}</TableCol>\r\n              <TableCol>{manufacturer}</TableCol>\r\n              <TableCol>{breast}</TableCol>\r\n              <TableCol>{waist}</TableCol>\r\n              <TableCol>{hips}</TableCol>\r\n            </TableRow>\r\n          ))}\r\n        </Table>\r\n      </SizeWrapper>\r\n    </ModalWrapper>\r\n  );\r\n};\r\n\r\nexport default SizesModal;\r\n","export default __webpack_public_path__ + \"static/media/done_success_24dp.f282116f.svg\";","import { FC, useEffect, useMemo } from \"react\";\r\nimport { useStore } from \"effector-react\";\r\nimport { useForm } from \"effector-forms\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport QuantityControl from \"../../../ui/QuantityControl\";\r\nimport SizePicker from \"../../../ui/SizePicker\";\r\nimport Button from \"../../../ui/Button\";\r\nimport { SizeT } from \"../../../store/models/ProductModel\";\r\nimport {\r\n  $currentProduct,\r\n  currentProductForm,\r\n} from \"../../../store/product/currentProduct\";\r\nimport { formatPrice } from \"../../../helpers/textHelper\";\r\nimport { $cartProducts, updateProductInCart } from \"../../../store/cart\";\r\nimport { general } from \"../../../store/general\";\r\nimport { openModal } from \"../../../store/modal\";\r\nimport SizesModal from \"../../../modals/SizesModal\";\r\nimport DoneIcon from \"../../../images/icons/done_success_24dp.svg\";\r\n\r\nconst Wrapper = styled.div``;\r\nconst Head = styled.h1`\r\n  font-weight: 500;\r\n  font-size: 24px;\r\n  line-height: 32px;\r\n  color: #000000;\r\n\r\n  @media (max-width: 768px) {\r\n    margin: 12px 0 8px 0;\r\n  }\r\n`;\r\nconst Label = styled.p`\r\n  font-size: 15px;\r\n  line-height: 24px;\r\n  color: #000000;\r\n  margin: 12px 0 0 0;\r\n`;\r\nconst Property = styled.div`\r\n  &:not(:first-child) {\r\n    margin-left: 36px;\r\n  }\r\n`;\r\nconst Block = styled.div`\r\n  margin-top: 24px;\r\n`;\r\nconst PropertiesBlock = styled(Block)``;\r\nconst PropertiesRow = styled.div<{ spaceBetween?: boolean }>`\r\n  display: flex;\r\n  justify-content: ${({ spaceBetween }) =>\r\n    spaceBetween ? \"space-between\" : \"initial\"};\r\n`;\r\nconst PropertyKey = styled.div`\r\n  font-weight: 500;\r\n  font-size: 13px;\r\n  line-height: 16px;\r\n  color: #000000;\r\n  opacity: 0.5;\r\n`;\r\nconst PropertyValue = styled.div`\r\n  font-size: 16px;\r\n  /* font-weight: 500; */\r\n  line-height: 19px;\r\n  color: #000000;\r\n  margin-top: 4px;\r\n`;\r\nconst PropertyControl = styled.div`\r\n  margin-top: 20px;\r\n  width: fit-content;\r\n\r\n  @media (max-width: 768px) {\r\n    width: 100%;\r\n  }\r\n`;\r\nconst PropertyControlKey = styled(PropertyKey)`\r\n  margin-bottom: 6px;\r\n`;\r\nconst PropertyControlFlex = styled.div``;\r\nconst PropertyControlActiveKey = styled(PropertyControlKey)`\r\n  color: var(--primary-color);\r\n  font-weight: 600;\r\n  opacity: 1;\r\n  cursor: pointer;\r\n`;\r\nconst ButtonBlock = styled(Block)``;\r\nconst DoneBlock = styled.span`\r\n  margin-left: 24px;\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  @media (max-width: 768px) {\r\n    justify-content: center;\r\n    margin: 16px 0;\r\n  }\r\n`;\r\nconst DoneImg = styled.img``;\r\nconst DoneText = styled.div`\r\n  color: #24a959;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  margin-left: 6px;\r\n\r\n  @media (max-width: 768px) {\r\n    font-size: 14px;\r\n  }\r\n`;\r\n\r\nconst ProductText: FC = () => {\r\n  const { name, price, material, id, label } = useStore($currentProduct);\r\n  const { submit, reset, fields, values } = useForm(currentProductForm);\r\n\r\n  const { isMobile } = general;\r\n  const cartProducts = useStore($cartProducts);\r\n  const isInCart = cartProducts.some((x) => x.id === id);\r\n  const thisProductInCart = cartProducts.find((x) => x.id === id);\r\n\r\n  const formattedPrice = useMemo(() => formatPrice(String(price)), [price]);\r\n\r\n  useEffect(() => {\r\n    if (thisProductInCart) {\r\n      const { size, quantity } = thisProductInCart;\r\n      currentProductForm.set({ quantity, size });\r\n    }\r\n  }, [thisProductInCart]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      reset();\r\n    };\r\n  }, [reset]);\r\n\r\n  if (!name) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Head>{name}</Head>\r\n      {label && <Label>{label}</Label>}\r\n      <PropertiesBlock>\r\n        <PropertiesRow>\r\n          <Property>\r\n            <PropertyKey>–¶–µ–Ω–∞</PropertyKey>\r\n            <PropertyValue>{formattedPrice} ‚ÇΩ</PropertyValue>\r\n          </Property>\r\n          <Property>\r\n            <PropertyKey>–ú–∞—Ç–µ—Ä–∏–∞–ª</PropertyKey>\r\n            <PropertyValue>{material}</PropertyValue>\r\n          </Property>\r\n        </PropertiesRow>\r\n        <PropertyControl>\r\n          <PropertyControlKey>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ</PropertyControlKey>\r\n          <QuantityControl\r\n            quantity={values.quantity}\r\n            onChange={(value) => {\r\n              fields.quantity.onChange(parseInt(value));\r\n            }}\r\n            onDecrease={() =>\r\n              values.quantity !== 1 &&\r\n              fields.quantity.onChange(values.quantity - 1)\r\n            }\r\n            onIncrease={() => fields.quantity.onChange(values.quantity + 1)}\r\n          />\r\n        </PropertyControl>\r\n        <PropertyControl>\r\n          <PropertiesRow spaceBetween>\r\n            <PropertyControlKey>–í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–º–µ—Ä</PropertyControlKey>\r\n            <PropertyControlActiveKey onClick={() => openModal(<SizesModal />)}>\r\n              –¢–∞–±–ª–∏—Ü–∞ —Ä–∞–∑–º–µ—Ä–æ–≤\r\n            </PropertyControlActiveKey>\r\n          </PropertiesRow>\r\n          <SizePicker\r\n            errorText={fields.size.firstError?.errorText}\r\n            selectedSize={values.size as SizeT}\r\n            onSelect={(size) => fields.size.onChange(size)}\r\n          />\r\n        </PropertyControl>\r\n      </PropertiesBlock>\r\n      <ButtonBlock>\r\n        {isInCart ? (\r\n          <>\r\n            <Link className=\"toCartLink\" to=\"/cart\">\r\n              <Button fixed={isMobile} variant=\"secondary\">\r\n                –ü–µ—Ä–µ–π—Ç–∏ –≤ –∫–æ—Ä–∑–∏–Ω—É\r\n              </Button>\r\n              <DoneBlock>\r\n                <DoneImg src={DoneIcon} />\r\n                <DoneText>–î–æ–±–∞–≤–ª–µ–Ω–æ –≤ –∫–æ—Ä–∑–∏–Ω—É</DoneText>\r\n              </DoneBlock>\r\n            </Link>\r\n          </>\r\n        ) : (\r\n          <Button fixed={isMobile} variant=\"primary\" onClick={submit}>\r\n            –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É\r\n          </Button>\r\n        )}\r\n      </ButtonBlock>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default ProductText;\r\n","import { FC, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { useStore } from \"effector-react\";\r\nimport { $allProducts, fetchProductsFx } from \"../../../store/product/products\";\r\nimport {\r\n  fetchProductByIdFx,\r\n  $currentProduct,\r\n} from \"../../../store/product/currentProduct\";\r\nimport Product from \"../../../ui/Product\";\r\nimport Spinner from \"../../../ui/Spinner\";\r\n\r\nconst RecomendedWrapper = styled.div`\r\n  margin-top: 36px;\r\n`;\r\nconst Head = styled.h1`\r\n  font-size: 24px;\r\n  font-weight: bold;\r\n  color: #000;\r\n  margin: 0;\r\n\r\n  @media (max-width: 768px) {\r\n    font-size: 24px;\r\n    margin-top: 24px;\r\n  }\r\n`;\r\nconst RecomendedGrid = styled.div`\r\n  margin-top: 16px;\r\n  gap: 10px;\r\n  grid-template-columns: 1fr 1fr 1fr;\r\n  row-gap: 24px;\r\n  display: grid;\r\n\r\n  @media (max-width: 768px) {\r\n    grid-template-columns: 1fr;\r\n  }\r\n`;\r\nconst Line = styled.div`\r\n  height: 1px;\r\n  width: 100%;\r\n  background-color: rgba(0, 0, 0, 0.2);\r\n  margin: 24px 0;\r\n\r\n  @media (max-width: 768px) {\r\n    margin: 0;\r\n  }\r\n`;\r\n\r\ninterface IRecomendedProps {\r\n  currentProductId: number;\r\n}\r\n\r\nconst Recomended: FC<IRecomendedProps> = ({ currentProductId }) => {\r\n  const loading = useStore(fetchProductsFx.pending);\r\n  const loadingOneProduct = useStore(fetchProductByIdFx.pending);\r\n  const currentProduct = useStore($currentProduct);\r\n  const products = useStore($allProducts).filter(\r\n    (x) => x.id !== currentProductId\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (\r\n      !products.length &&\r\n      !loading &&\r\n      !loadingOneProduct &&\r\n      currentProduct?.name\r\n    ) {\r\n      fetchProductsFx();\r\n    }\r\n  }, [products, loading, loadingOneProduct, currentProduct]);\r\n\r\n  if (!products.length) {\r\n    return null;\r\n  }\r\n\r\n  if (loading) {\r\n    return <Spinner margin=\"80px 0\" />;\r\n  }\r\n\r\n  return (\r\n    <RecomendedWrapper>\r\n      <Line />\r\n      <Head>–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º –≤–∑–≥–ª—è–Ω—É—Ç—å</Head>\r\n      <RecomendedGrid>\r\n        {products.map(({ id, name, price, photos, label }) => (\r\n          <Product\r\n            id={id}\r\n            name={name}\r\n            price={price}\r\n            photo={photos.length && photos[0]}\r\n            material={label}\r\n            needToChangePhotoByObserving={true}\r\n            onClick={() => window.scroll(0, 0)}\r\n          />\r\n        ))}\r\n      </RecomendedGrid>\r\n    </RecomendedWrapper>\r\n  );\r\n};\r\n\r\nexport default Recomended;\r\n","import { FC } from \"react\";\r\nimport { Container } from \"react-bootstrap\";\r\nimport styled from \"styled-components\";\r\nimport PhotoViewer from \"./PhotoViewer\";\r\nimport ProductText from \"./ProductText\";\r\nimport Recomended from \"./Recomended\";\r\nimport { general } from \"../../../store/general\";\r\nimport { useStore } from \"effector-react\";\r\nimport {\r\n  $currentProduct,\r\n  fetchProductByIdFx,\r\n} from \"../../../store/product/currentProduct\";\r\n\r\nconst GridWrapper = styled.div`\r\n  display: grid;\r\n  grid-gap: 20px;\r\n  grid-template-columns: 45% 1fr;\r\n  margin-top: 32px;\r\n\r\n  @media (max-width: 768px) {\r\n    display: block;\r\n    margin-top: 0px;\r\n  }\r\n`;\r\nconst FullWrapper = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst ProductPageContent: FC = () => {\r\n  const { id } = useStore($currentProduct);\r\n\r\n  const content = false ? (\r\n    <FullWrapper>\r\n      <GridWrapper>\r\n        <PhotoViewer />\r\n        <ProductText />\r\n      </GridWrapper>\r\n      <Recomended currentProductId={id} />\r\n    </FullWrapper>\r\n  ) : (\r\n    <Container>\r\n      <GridWrapper>\r\n        <PhotoViewer />\r\n        <ProductText />\r\n      </GridWrapper>\r\n      <Recomended currentProductId={id} />\r\n    </Container>\r\n  );\r\n\r\n  // @ts-ignore\r\n  return <>{content}</>;\r\n};\r\n\r\nexport default ProductPageContent;\r\n","import Main from \"../../pages/Main/index\";\r\nimport Cart from \"../../pages/Cart\";\r\nimport ProductPage from \"../../pages/ProductPage\";\r\n\r\ninterface IRoute {\r\n  path: string;\r\n  exact: boolean;\r\n  component: React.ComponentType<any>;\r\n}\r\n\r\nconst routes: IRoute[] = [\r\n  {\r\n    path: \"/\",\r\n    exact: true,\r\n    component: Main,\r\n  },\r\n  {\r\n    path: \"/cart\",\r\n    exact: false,\r\n    component: Cart,\r\n  },\r\n  {\r\n    path: \"/product/:id\",\r\n    exact: false,\r\n    component: ProductPage,\r\n  },\r\n  {\r\n    path: \"/category/:id\",\r\n    exact: false,\r\n    component: Main,\r\n  },\r\n];\r\n\r\nexport default routes;\r\n","import { FC, useEffect } from \"react\";\r\nimport Header from \"../../sections/Header\";\r\nimport Footer from \"../../sections/Footer\";\r\nimport ProductPageContent from \"./components/ProductPageContent\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport {\r\n  resetCurrentProduct,\r\n  changeCurrentProduct,\r\n  currentProductForm,\r\n  fetchProductByIdFx,\r\n} from \"../../store/product/currentProduct\";\r\nimport { useForm } from \"effector-forms\";\r\nimport { useStore } from \"effector-react/effector-react.cjs\";\r\nimport { $products } from \"../../store/product/products\";\r\n\r\nconst ProductPage: FC = () => {\r\n  const { id } = useParams<{ id: string }>();\r\n  const { reset } = useForm(currentProductForm);\r\n  const products = useStore($products);\r\n\r\n  useEffect(() => {\r\n    if (!products.length) {\r\n      return;\r\n    }\r\n\r\n    const candidate = products.find((x) => x.id === parseInt(id));\r\n    if (candidate) {\r\n      changeCurrentProduct(candidate);\r\n    }\r\n  }, [id, products]);\r\n\r\n  useEffect(() => {\r\n    fetchProductByIdFx(id);\r\n\r\n    return () => {\r\n      reset();\r\n    };\r\n  }, [id, reset]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      resetCurrentProduct();\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <ProductPageContent />\r\n      <Footer />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProductPage;\r\n","import { FC, useEffect } from \"react\";\r\nimport { useStore } from \"effector-react\";\r\nimport styled from \"styled-components\";\r\nimport { $modal, closeModal } from \"../../store/modal\";\r\n\r\nconst ModalBackground = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  position: fixed;\r\n  top: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  left: 0;\r\n\r\n  background-color: rgba(0 0 0 / 20%);\r\n  z-index: 100000;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n  overscroll-behavior-y: contain;\r\n  overflow: hidden;\r\n  overflow-y: auto;\r\n  -webkit-overflow-scrolling: touch;\r\n`;\r\n\r\nconst Modal: FC = () => {\r\n  const modal = useStore($modal);\r\n\r\n  useEffect(() => {\r\n    const closeByPressEsc = (e: any) => e.key === \"Escape\" && closeModal();\r\n\r\n    document.addEventListener(\"keydown\", closeByPressEsc);\r\n    return () => {\r\n      document.removeEventListener(\"keydown\", closeByPressEsc);\r\n      document.body.classList.remove(\"no-scroll\");\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (modal !== null && modal.length !== 0) {\r\n      document.body.classList.add(\"no-scroll\");\r\n    }\r\n  }, [modal]);\r\n\r\n  if (document.body.classList.contains(\"no-scroll\")) {\r\n    document.body.classList.remove(\"no-scroll\");\r\n  }\r\n\r\n  if (!modal || !modal.length) return null;\r\n\r\n  return (\r\n    <ModalBackground onClick={(e) => closeModal()}>\r\n      {modal[modal.length - 1]}\r\n    </ModalBackground>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import { Route, Router, Switch, Redirect } from \"react-router\";\nimport routes from \"./store/routes\";\nimport { createBrowserHistory } from \"history\";\nimport { general } from \"./store/general\";\nimport { openModal } from \"./store/modal\";\nimport { isMobile } from \"./utils/system\";\nimport Modal from \"./sections/Modal\";\nimport PhotoModal from \"./modals/PhotoModal\";\nimport AuthModal from \"./modals/AuthModal\";\nimport { getMe } from \"./store/user\";\nimport { changeAccessToken } from \"./api/request\";\nimport { fetchSavedProductsToCart } from \"./store/cart\";\nimport { useEffect } from \"react\";\n\nexport const history = createBrowserHistory();\n\nconst access_token = localStorage.getItem(\"access_token\");\nif (access_token) {\n  changeAccessToken(access_token);\n  getMe();\n}\ngeneral.setMobile(isMobile());\n\nfunction App() {\n  useEffect(() => {\n    let cart = localStorage.getItem(\"cart\");\n    if (cart) {\n      cart = JSON.parse(cart);\n      //@ts-ignore\n      if (!cart?.products?.length) {\n        return;\n      }\n      //@ts-ignore\n      fetchSavedProductsToCart(cart.products.map((x) => x.id));\n    }\n  }, []);\n\n  return (\n    <>\n      <Router history={history}>\n        <Switch>\n          {routes.map(({ path, component, exact }) => (\n            <Route key={path} path={path} exact={exact} component={component} />\n          ))}\n          <Route path=\"*\">\n            <Redirect to=\"/\" />\n          </Route>\n        </Switch>\n      </Router>\n      <Modal />\n    </>\n  );\n}\n\nexport default App;\n","export function isMobile(): boolean {\r\n  return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\r\n    navigator.userAgent\r\n  );\r\n}\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}